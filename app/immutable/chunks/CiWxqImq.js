var $r=Object.defineProperty;var Jr=(r,n,u)=>n in r?$r(r,n,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[n]=u;var Lr=(r,n,u)=>Jr(r,typeof n!="symbol"?n+"":n,u);import{a3 as jr,j as xr,ax as Wr,O as Er,o as J,a4 as re,K as ee,g as gr,V as te,M as ae,N as Dr,P as or,p as ar,am as ie,Q as pr,k as Gr,R as fe,ay as vr,aq as mr,ag as ne,G as yr,az as cr,aA as Zr,aB as Ir,a0 as le,B as Nr,J as se,aC as ue,aD as _e,ap as Ee,aE as oe,m as ve,aF as Se,aj as ce}from"./BCWV8hfl.js";import{b as Ie}from"./DifWltmb.js";function Pe(r,n){return n}function Oe(r,n,u,_){for(var L=[],g=n.length,y=0;y<g;y++)_e(n[y].e,L,!0);var W=g>0&&L.length===0&&u!==null;if(W){var c=u.parentNode;Ee(c),c.append(u),_.clear(),$(r,n[0].prev,n[g-1].next)}oe(L,()=>{for(var D=0;D<g;D++){var p=n[D];W||(_.delete(p.k),$(r,p.prev,p.next)),ve(p.e,!W)}})}function We(r,n,u,_,L,g=null){var y=r,W={flags:n,items:new Map,first:null},c=(n&Wr)!==0;if(c){var D=r;y=J?Er(re(D)):D.appendChild(jr())}J&&ee();var p=null,U=!1,T=te(()=>{var C=u();return se(C)?C:C==null?[]:mr(C)});xr(()=>{var C=gr(T),h=C.length;if(U&&h===0)return;U=h===0;let d=!1;if(J){var o=y.data===ae;o!==(h===0)&&(y=Dr(),Er(y),or(!1),d=!0)}if(J){for(var z=null,M,H=0;H<h;H++){if(ar.nodeType===8&&ar.data===ie){y=ar,d=!0,or(!1);break}var I=C[H],R=_(I,H);M=Mr(ar,W,z,null,I,R,H,L,n,u),W.items.set(R,M),z=M}h>0&&Er(Dr())}J||Re(C,W,y,L,n,_,u),g!==null&&(h===0?p?pr(p):p=Gr(()=>g(y)):p!==null&&fe(p,()=>{p=null})),d&&or(!0),gr(T)}),J&&(y=ar)}function Re(r,n,u,_,L,g,y){var ir,fr,tr,j;var W=(L&ue)!==0,c=(L&(cr|Ir))!==0,D=r.length,p=n.items,U=n.first,T=U,C,h=null,d,o=[],z=[],M,H,I,R;if(W)for(R=0;R<D;R+=1)M=r[R],H=g(M,R),I=p.get(H),I!==void 0&&((ir=I.a)==null||ir.measure(),(d??(d=new Set)).add(I));for(R=0;R<D;R+=1){if(M=r[R],H=g(M,R),I=p.get(H),I===void 0){var V=T?T.e.nodes_start:u;h=Mr(V,n,h,h===null?n.first:h.next,M,H,R,_,L,y),p.set(H,h),o=[],z=[],T=h.next;continue}if(c&&he(I,M,R,L),(I.e.f&vr)!==0&&(pr(I.e),W&&((fr=I.a)==null||fr.unfix(),(d??(d=new Set)).delete(I))),I!==T){if(C!==void 0&&C.has(I)){if(o.length<z.length){var A=z[0],m;h=A.prev;var rr=o[0],w=o[o.length-1];for(m=0;m<o.length;m+=1)Tr(o[m],A,u);for(m=0;m<z.length;m+=1)C.delete(z[m]);$(n,rr.prev,w.next),$(n,h,rr),$(n,w,A),T=A,h=w,R-=1,o=[],z=[]}else C.delete(I),Tr(I,T,u),$(n,I.prev,I.next),$(n,I,h===null?n.first:h.next),$(n,h,I),h=I;continue}for(o=[],z=[];T!==null&&T.k!==H;)(T.e.f&vr)===0&&(C??(C=new Set)).add(T),z.push(T),T=T.next;if(T===null)continue;I=T}o.push(I),h=I,T=I.next}if(T!==null||C!==void 0){for(var F=C===void 0?[]:mr(C);T!==null;)(T.e.f&vr)===0&&F.push(T),T=T.next;var er=F.length;if(er>0){var nr=(L&Wr)!==0&&D===0?u:null;if(W){for(R=0;R<er;R+=1)(tr=F[R].a)==null||tr.measure();for(R=0;R<er;R+=1)(j=F[R].a)==null||j.fix()}Oe(n,F,nr,p)}}W&&ne(()=>{var q;if(d!==void 0)for(I of d)(q=I.a)==null||q.apply()}),yr.first=n.first&&n.first.e,yr.last=h&&h.e}function he(r,n,u,_){(_&cr)!==0&&Zr(r.v,n),(_&Ir)!==0?Zr(r.i,u):r.i=u}function Mr(r,n,u,_,L,g,y,W,c,D){var p=(c&cr)!==0,U=(c&Se)===0,T=p?U?le(L):Nr(L):L,C=(c&Ir)===0?y:Nr(y),h={i:C,v:T,k:g,a:null,e:null,prev:u,next:_};try{return h.e=Gr(()=>W(r,T,C,D),J),h.e.prev=u&&u.e,h.e.next=_&&_.e,u===null?n.first=h:(u.next=h,u.e.next=h.e),_!==null&&(_.prev=h,_.e.prev=h.e),h}finally{}}function Tr(r,n,u){for(var _=r.next?r.next.e.nodes_start:u,L=n?n.e.nodes_start:u,g=r.e.nodes_start;g!==_;){var y=ce(g);L.before(g),g=y}}function $(r,n,u){n===null?r.first=u:(n.next=u,n.e.next=u&&u.e),u!==null&&(u.prev=n,u.e.prev=n&&n.e)}const Ar=[...` 	
\r\f \v\uFEFF`];function pe(r,n,u){var _=r==null?"":""+r;if(u){for(var L in u)if(u[L])_=_?_+" "+L:L;else if(_.length)for(var g=L.length,y=0;(y=_.indexOf(L,y))>=0;){var W=y+g;(y===0||Ar.includes(_[y-1]))&&(W===_.length||Ar.includes(_[W]))?_=(y===0?"":_.substring(0,y))+_.substring(W+1):y=W}}return _===""?null:_}function Ge(r,n){return r==null?null:String(r)}function Ce(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}/*!
 * qqwing - Sudoku solver and generator
 * Copyright (C) 2014 Stephen Ostermiller
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along
 * with this program; if not, write to the Free Software Foundation, Inc.,
 * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
 */var Sr,Pr;function Le(){if(Pr)return Sr;Pr=1;var r=function(){for(var n=function(e){return e%r.ROW_COL_SEC_SIZE},u=function(e){return Math.floor(e/r.ROW_COL_SEC_SIZE)},_=function(e){return Math.floor(e/r.SEC_GROUP_SIZE)*r.SEC_GROUP_SIZE+Math.floor(n(e)/r.GRID_SIZE)*r.GRID_SIZE},L=function(e){return Math.floor(e/r.SEC_GROUP_SIZE)*r.GRID_SIZE+Math.floor(n(e)/r.GRID_SIZE)},g=function(e){return r.ROW_COL_SEC_SIZE*e},y=function(e){return e},W=function(e){return e%r.GRID_SIZE*r.GRID_SIZE+Math.floor(e/r.GRID_SIZE)*r.SEC_GROUP_SIZE},c=function(e,t){return e+r.ROW_COL_SEC_SIZE*t},D=function(e,t){return e*r.ROW_COL_SEC_SIZE+t},p=function(e,t){return W(e)+Math.floor(t/r.GRID_SIZE)*r.ROW_COL_SEC_SIZE+t%r.GRID_SIZE},U=function(e){typeof console<"u"&&console.log&&console.log(e)},T=function(e){typeof process<"u"&&process.stdout&&process.stdout.write?process.stdout.write(e):U(e)},C=new Array(r.BOARD_SIZE),h=new Array(r.BOARD_SIZE),d=new Array(r.BOARD_SIZE),o=new Array(r.POSSIBILITY_SIZE),z=new Array(r.BOARD_SIZE),M=0;M<r.BOARD_SIZE;M++)z[M]=M;for(var H=new Array(r.ROW_COL_SEC_SIZE),M=0;M<r.ROW_COL_SEC_SIZE;M++)H[M]=M;var I=!1,R=!1,V=[],A=[],m=r.PrintStyle.READABLE,rr=0,w=function(){for(var e=0;e<r.BOARD_SIZE;e++)h[e]=0;for(var e=0;e<r.BOARD_SIZE;e++)d[e]=0;for(var e=0;e<r.POSSIBILITY_SIZE;e++)o[e]=0;V=[],A=[];for(var t=1,i=0;i<r.BOARD_SIZE;i++)if(C[i]>0){var f=C[i]-1,l=c(f,i),s=C[i];if(o[l]!=0)return!1;x.call(this,i,t,s),(R||I)&&b.call(this,new this.LogItem(t,r.LogType.GIVEN,s,i))}return!0},F=function(e){return!!(er.call(this,e)||fr.call(this,e)||nr.call(this,e)||ir.call(this,e)||Vr.call(this,e)||zr.call(this,e)||Ur.call(this,e)||Br.call(this,e)||dr.call(this,e)||kr.call(this,e)||wr.call(this,e)||qr.call(this,e))},er=function(e){for(var t=0;t<r.BOARD_SIZE;t++)if(h[t]==0){for(var i=0,f=0,l=0;l<r.ROW_COL_SEC_SIZE;l++){var s=c(l,t);o[s]==0&&(i++,f=l+1)}if(i==1)return x.call(this,t,e,f),(R||I)&&b.call(this,new this.LogItem(e,r.LogType.SINGLE,f,t)),!0}return!1},nr=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var f=0,l=0,s=0;s<r.ROW_COL_SEC_SIZE;s++){var a=t*r.ROW_COL_SEC_SIZE+s,E=c(i,a);o[E]==0&&(f++,l=a)}if(f==1){var v=i+1;return(R||I)&&b.call(this,new this.LogItem(e,r.LogType.HIDDEN_SINGLE_ROW,v,l)),x.call(this,l,e,v),!0}}return!1},ir=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var f=0,l=0,s=0;s<r.ROW_COL_SEC_SIZE;s++){var a=D(s,t),E=c(i,a);o[E]==0&&(f++,l=a)}if(f==1){var v=i+1;return(R||I)&&b.call(this,new this.LogItem(e,r.LogType.HIDDEN_SINGLE_COLUMN,v,l)),x.call(this,l,e,v),!0}}return!1},fr=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=W(t),f=0;f<r.ROW_COL_SEC_SIZE;f++){for(var l=0,s=0,a=0;a<r.GRID_SIZE;a++)for(var E=0;E<r.GRID_SIZE;E++){var v=i+a+r.ROW_COL_SEC_SIZE*E,O=c(f,v);o[O]==0&&(l++,s=v)}if(l==1){var S=f+1;return(R||I)&&b.call(this,new this.LogItem(e,r.LogType.HIDDEN_SINGLE_SECTION,S,s)),x.call(this,s,e,S),!0}}return!1},tr=function(e,t){for(var i=0,f=Kr.call(this),l=0;l<r.ROW_COL_SEC_SIZE;l++){var s=H[l],a=c(s,f);if(o[a]==0){if(i==t){var E=s+1;return(R||I)&&b.call(this,new this.LogItem(e,r.LogType.GUESS,E,f)),x.call(this,f,e,E),!0}i++}}return!1},j=function(){for(var e=0;e<r.BOARD_SIZE;e++)if(h[e]==0){for(var t=0,i=0;i<r.ROW_COL_SEC_SIZE;i++){var f=c(i,e);o[f]==0&&t++}if(t==0)return!0}return!1},q=function(e){(R||I)&&b.call(this,new this.LogItem(e,r.LogType.ROLLBACK));for(var t=0;t<r.BOARD_SIZE;t++)d[t]==e&&(d[t]=0,h[t]=0);for(var t=0;t<r.POSSIBILITY_SIZE;t++)o[t]==e&&(o[t]=0);for(;A.length>0&&A[A.length-1]==e;)A.pop()},zr=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var f=W(i),l=!0,s=-1,a=0;a<r.GRID_SIZE;a++)for(var E=0;E<r.GRID_SIZE;E++){var v=f+E+r.ROW_COL_SEC_SIZE*a,O=c(t,v);o[O]==0&&(s==-1||s==a?s=a:l=!1)}if(l&&s!=-1){for(var S=!1,Z=u(f)+s,G=g(Z),E=0;E<r.ROW_COL_SEC_SIZE;E++){var P=G+E,N=L(P),O=c(t,P);i!=N&&o[O]==0&&(o[O]=e,S=!0)}if(S)return(R||I)&&b.call(this,new this.LogItem(e,r.LogType.POINTING_PAIR_TRIPLE_ROW,t+1,G)),!0}}return!1},Br=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var f=g(i),l=!0,s=-1,a=0;a<r.GRID_SIZE;a++)for(var E=0;E<r.GRID_SIZE;E++){var v=a*r.GRID_SIZE+E,O=D(i,v),S=c(t,O);o[S]==0&&(s==-1||s==a?s=a:l=!1)}if(l&&s!=-1){for(var Z=!1,v=r.GRID_SIZE*s,G=_(D(i,v)),P=u(G),N=n(G),a=0;a<r.GRID_SIZE;a++)for(var E=0;E<r.GRID_SIZE;E++){var k=P+a,K=N+E,O=D(k,K),S=c(t,O);i!=k&&o[S]==0&&(o[S]=e,Z=!0)}if(Z)return(R||I)&&b.call(this,new this.LogItem(e,r.LogType.ROW_BOX,t+1,f)),!0}}return!1},dr=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var f=g(i),l=!0,s=-1,a=0;a<r.GRID_SIZE;a++)for(var E=0;E<r.GRID_SIZE;E++){var v=a*r.GRID_SIZE+E,O=D(i,v),S=c(t,O);o[S]==0&&(s==-1||s==a?s=a:l=!1)}if(l&&s!=-1){for(var Z=!1,v=r.GRID_SIZE*s,G=_(D(i,v)),P=u(G),N=n(G),a=0;a<r.GRID_SIZE;a++)for(var E=0;E<r.GRID_SIZE;E++){var k=P+a,K=N+E,O=D(k,K),S=c(t,O);i!=k&&o[S]==0&&(o[S]=e,Z=!0)}if(Z)return(R||I)&&b.call(this,new this.LogItem(e,r.LogType.ROW_BOX,t+1,f)),!0}}return!1},Ur=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var f=W(i),l=!0,s=-1,a=0;a<r.GRID_SIZE;a++)for(var E=0;E<r.GRID_SIZE;E++){var v=f+a+r.ROW_COL_SEC_SIZE*E,O=c(t,v);o[O]==0&&(s==-1||s==a?s=a:l=!1)}if(l&&s!=-1){for(var S=!1,Z=n(f)+s,G=y(Z),a=0;a<r.ROW_COL_SEC_SIZE;a++){var P=G+r.ROW_COL_SEC_SIZE*a,N=L(P),O=c(t,P);i!=N&&o[O]==0&&(o[O]=e,S=!0)}if(S)return(R||I)&&b.call(this,new this.LogItem(e,r.LogType.POINTING_PAIR_TRIPLE_COLUMN,t+1,G)),!0}}return!1},kr=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var f=-1,l=-1,s=0,a=0;a<r.ROW_COL_SEC_SIZE;a++){var E=D(t,a),v=c(i,E);o[v]==0&&(f==-1||f==a?f=a:(l==-1||l==a)&&(l=a),s++)}if(s==2)for(var O=i+1;O<r.ROW_COL_SEC_SIZE;O++){for(var S=-1,Z=-1,G=0,a=0;a<r.ROW_COL_SEC_SIZE;a++){var E=D(t,a),v=c(O,E);o[v]==0&&(S==-1||S==a?S=a:(Z==-1||Z==a)&&(Z=a),G++)}if(G==2&&f==S&&l==Z){for(var P=!1,N=0;N<r.ROW_COL_SEC_SIZE;N++)if(N!=i&&N!=O){var k=D(t,f),K=D(t,l),X=c(N,k),Y=c(N,K);o[X]==0&&(o[X]=e,P=!0),o[Y]==0&&(o[Y]=e,P=!0)}if(P)return(R||I)&&b.call(this,new this.LogItem(e,r.LogType.HIDDEN_PAIR_ROW,i+1,D(t,f))),!0}}}return!1},wr=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var f=-1,l=-1,s=0,a=0;a<r.ROW_COL_SEC_SIZE;a++){var E=D(a,t),v=c(i,E);o[v]==0&&(f==-1||f==a?f=a:(l==-1||l==a)&&(l=a),s++)}if(s==2)for(var O=i+1;O<r.ROW_COL_SEC_SIZE;O++){for(var S=-1,Z=-1,G=0,a=0;a<r.ROW_COL_SEC_SIZE;a++){var E=D(a,t),v=c(O,E);o[v]==0&&(S==-1||S==a?S=a:(Z==-1||Z==a)&&(Z=a),G++)}if(G==2&&f==S&&l==Z){for(var P=!1,N=0;N<r.ROW_COL_SEC_SIZE;N++)if(N!=i&&N!=O){var k=D(f,t),K=D(l,t),X=c(N,k),Y=c(N,K);o[X]==0&&(o[X]=e,P=!0),o[Y]==0&&(o[Y]=e,P=!0)}if(P)return(R||I)&&b.call(this,new this.LogItem(e,r.LogType.HIDDEN_PAIR_COLUMN,i+1,D(f,t))),!0}}}return!1},qr=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var f=-1,l=-1,s=0,a=0;a<r.ROW_COL_SEC_SIZE;a++){var E=p(t,a),v=c(i,E);o[v]==0&&(f==-1||f==a?f=a:(l==-1||l==a)&&(l=a),s++)}if(s==2)for(var O=i+1;O<r.ROW_COL_SEC_SIZE;O++){for(var S=-1,Z=-1,G=0,a=0;a<r.ROW_COL_SEC_SIZE;a++){var E=p(t,a),v=c(O,E);o[v]==0&&(S==-1||S==a?S=a:(Z==-1||Z==a)&&(Z=a),G++)}if(G==2&&f==S&&l==Z){for(var P=!1,N=0;N<r.ROW_COL_SEC_SIZE;N++)if(N!=i&&N!=O){var k=p(t,f),K=p(t,l),X=c(N,k),Y=c(N,K);o[X]==0&&(o[X]=e,P=!0),o[Y]==0&&(o[Y]=e,P=!0)}if(P)return(R||I)&&b.call(this,new this.LogItem(e,r.LogType.HIDDEN_PAIR_SECTION,i+1,p(t,f))),!0}}}return!1},x=function(e,t,i){if(h[e]!=0)throw"Marking position that already has been marked.";if(d[e]!=0)throw"Marking position that was marked another round.";var f=i-1;h[e]=i;var l=c(f,e);if(o[l]!=0)throw"Marking impossible position.";d[e]=t;for(var s=u(e)*r.ROW_COL_SEC_SIZE,a=0;a<r.ROW_COL_SEC_SIZE;a++){var E=s+a,v=c(f,E);o[v]==0&&(o[v]=t)}for(var O=n(e),S=0;S<r.ROW_COL_SEC_SIZE;S++){var Z=O+r.ROW_COL_SEC_SIZE*S,v=c(f,Z);o[v]==0&&(o[v]=t)}for(var G=_(e),S=0;S<r.GRID_SIZE;S++)for(var P=0;P<r.GRID_SIZE;P++){var N=G+S+r.ROW_COL_SEC_SIZE*P,v=c(f,N);o[v]==0&&(o[v]=t)}for(var f=0;f<r.ROW_COL_SEC_SIZE;f++){var v=c(f,e);o[v]==0&&(o[v]=t)}},Kr=function(){for(var e=10,t=0,i=0;i<r.BOARD_SIZE;i++){var f=z[i];if(h[f]==0){for(var l=0,s=0;s<r.ROW_COL_SEC_SIZE;s++){var a=c(s,f);o[a]==0&&l++}l<e&&(e=l,t=f)}}return t},Vr=function(e){for(var t=0;t<r.BOARD_SIZE;t++){var i=Or(t);if(i==2){for(var f=u(t),l=n(t),s=_(t),a=t;a<r.BOARD_SIZE;a++)if(t!=a){var E=Or(a);if(E==2&&Fr(t,a)){if(f==u(a)){for(var v=!1,O=0;O<r.ROW_COL_SEC_SIZE;O++){var S=D(f,O);S!=t&&S!=a&&_r(t,S,e)&&(v=!0)}if(v)return(R||I)&&b.call(this,new this.LogItem(e,r.LogType.NAKED_PAIR_ROW,0,t)),!0}if(l==n(a)){for(var v=!1,Z=0;Z<r.ROW_COL_SEC_SIZE;Z++){var S=D(Z,l);S!=t&&S!=a&&_r(t,S,e)&&(v=!0)}if(v)return(R||I)&&b.call(this,new this.LogItem(e,r.LogType.NAKED_PAIR_COLUMN,0,t)),!0}if(s==_(a)){for(var v=!1,G=_(t),P=0;P<r.GRID_SIZE;P++)for(var N=0;N<r.GRID_SIZE;N++){var S=G+P+r.ROW_COL_SEC_SIZE*N;S!=t&&S!=a&&_r(t,S,e)&&(v=!0)}if(v)return(R||I)&&b.call(this,new this.LogItem(e,r.LogType.NAKED_PAIR_SECTION,0,t)),!0}}}}}return!1},Or=function(e){for(var t=0,i=0;i<r.ROW_COL_SEC_SIZE;i++){var f=c(i,e);o[f]==0&&t++}return t},Fr=function(e,t){for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){var f=c(i,e),l=c(i,t);if((o[f]==0||o[l]==0)&&(o[f]!=0||o[l]!=0))return!1}return!0},b=function(e){R&&e.print(),I&&(V.push(e),A.push(e))},lr=function(){Cr(z,r.BOARD_SIZE),Cr(H,r.ROW_COL_SEC_SIZE)},Rr=function(e){T(sr.call(this,e))},sr=function(e){for(var t="",i=0;i<r.BOARD_SIZE;i++)m==r.PrintStyle.READABLE&&(t+=" "),e[i]==0?t+=".":t+=e[i],i==r.BOARD_SIZE-1?(m==r.PrintStyle.CSV?t+=",":t+=`
`,(m==r.PrintStyle.READABLE||m==r.PrintStyle.COMPACT)&&(t+=`
`)):i%r.ROW_COL_SEC_SIZE==r.ROW_COL_SEC_SIZE-1?((m==r.PrintStyle.READABLE||m==r.PrintStyle.COMPACT)&&(t+=`
`),i%r.SEC_GROUP_SIZE==r.SEC_GROUP_SIZE-1&&m==r.PrintStyle.READABLE&&(t+=`-------|-------|-------
`)):i%r.GRID_SIZE==r.GRID_SIZE-1&&m==r.PrintStyle.READABLE&&(t+=" |");return t},Xr=function(){for(var e=2;e<=rr;e+=2)q.call(this,e)},Yr=function(){for(var e=0;e<r.BOARD_SIZE;e++)C[e]=0;w.call(this)},hr=function(e){T(ur(e))},ur=function(e){var t="";I||(t+="History was not recorded.",m==r.PrintStyle.CSV?t+=" -- ":t+=`
`);for(var i=0;i<e.length;i++)t+=i+1+". "+e[i].toString(),m==r.PrintStyle.CSV?t+=" -- ":t+=`
`;return m==r.PrintStyle.CSV?t+=",":t+=`
`,t},_r=function(e,t,i){for(var f=!1,l=0;l<r.ROW_COL_SEC_SIZE;l++){var s=c(l,e),a=c(l,t);o[s]==0&&o[a]==0&&(o[a]=i,f=!0)}return f},Cr=function(e,t){for(var i=0;i<t;i++){var f=t-i,l=Math.floor(Math.random()*f)+i,s=e[i];e[i]=e[l],e[l]=s}},Qr=function(){var e=Math.floor(Math.random()*4);switch(e){case 0:return r.Symmetry.ROTATE90;case 1:return r.Symmetry.ROTATE180;case 2:return r.Symmetry.MIRROR;case 3:return r.Symmetry.FLIP}throw"Unexpected random value: "+e},B=function(e,t){for(var i=0,f=0;f<e.length;f++)e[f].getType()==t&&i++;return i};this.LogItem=function(e,t,i,f){var l=e,s=t,a=i,E=f;this.getRound=function(){return l},this.print=function(){U(this.toString())},this.getType=function(){return s},this.getColumn=function(){return E==-1?-1:n(E)},this.getRow=function(){return E==-1?-1:u(E)},this.getPosition=function(){return E},this.getValue=function(){return a},this.getDescription=function(){switch(this.getType()){case r.LogType.GIVEN:return"Mark given";case r.LogType.ROLLBACK:return"Roll back round";case r.LogType.GUESS:return"Mark guess (start round)";case r.LogType.HIDDEN_SINGLE_ROW:return"Mark single possibility for value in row";case r.LogType.HIDDEN_SINGLE_COLUMN:return"Mark single possibility for value in column";case r.LogType.HIDDEN_SINGLE_SECTION:return"Mark single possibility for value in section";case r.LogType.SINGLE:return"Mark only possibility for cell";case r.LogType.NAKED_PAIR_ROW:return"Remove possibilities for naked pair in row";case r.LogType.NAKED_PAIR_COLUMN:return"Remove possibilities for naked pair in column";case r.LogType.NAKED_PAIR_SECTION:return"Remove possibilities for naked pair in section";case r.LogType.POINTING_PAIR_TRIPLE_ROW:return"Remove possibilities for row because all values are in one section";case r.LogType.POINTING_PAIR_TRIPLE_COLUMN:return"Remove possibilities for column because all values are in one section";case r.LogType.ROW_BOX:return"Remove possibilities for section because all values are in one row";case r.LogType.COLUMN_BOX:return"Remove possibilities for section because all values are in one column";case r.LogType.HIDDEN_PAIR_ROW:return"Remove possibilities from hidden pair in row";case r.LogType.HIDDEN_PAIR_COLUMN:return"Remove possibilities from hidden pair in column";case r.LogType.HIDDEN_PAIR_SECTION:return"Remove possibilities from hidden pair in section";default:return"!!! Performed unknown optimization !!!"}},this.toString=function(){var v="Round: "+this.getRound()+" - ";if(v+=this.getDescription(),a>0||E>-1){v+=" (";var O=!1;E>-1&&(O&&(v+=" - "),v+="Row: "+(u(E)+1)+" - Column: "+(n(E)+1),O=!0),a>0&&(O&&(v+=" - "),v+="Value: "+a,O=!0),v+=")"}return v}},this.setPuzzle=function(e){for(var t=0;t<r.BOARD_SIZE;t++)C[t]=e[t];return w.call(this)},this.printPuzzle=function(){return Rr.call(this,C)},this.getPuzzleString=function(){return sr.call(this,C)},this.printSolution=function(){return Rr.call(this,h)},this.getSolutionString=function(){return sr.call(this,h)},this.solve=function(e){if(!e||e<=1)return w.call(this),lr(),this.solve(2);for(rr=e;F.call(this,e);){if(this.isSolved())return!0;if(j.call(this))return!1}for(var t=e+1,i=e+2,f=0;tr.call(this,t,f);f++)if(j.call(this)||!this.solve(i))q.call(this,i),q.call(this,t);else return!0;return!1},this.countSolutions=function(e,t){if(!e||e<=1){var i=I;this.setRecordHistory(!1);var f=R;this.setLogHistory(!1),w.call(this);var l=this.countSolutions(2,!1);return this.setRecordHistory(i),this.setLogHistory(f),l}else{for(;F.call(this,e);){if(this.isSolved())return q.call(this,e),1;if(j.call(this))return q.call(this,e),0}for(var s=0,a=e+1,E=0;tr.call(this,a,E);E++)if(s+=this.countSolutions(a,t),t&&s>=2)return q.call(this,e),s;return q.call(this,e),s}},this.isSolved=function(){for(var e=0;e<r.BOARD_SIZE;e++)if(h[e]==0)return!1;return!0},this.getSolveHistory=function(){return this.isSolved()?V:"No solve history - Puzzle is not possible to solve."},this.getSolveHistoryString=function(){return this.isSolved()?ur.call(this,V):"No solve history - Puzzle is not possible to solve."},this.printSolveHistory=function(){this.isSolved()?hr(V):U("No solve history - Puzzle is not possible to solve.")},this.setRecordHistory=function(e){I=e},this.setLogHistory=function(e){R=e},this.setPrintStyle=function(e){m=e},this.generatePuzzle=function(){return this.generatePuzzleSymmetry(r.Symmetry.NONE)},this.generatePuzzleSymmetry=function(e){e==r.Symmetry.RANDOM&&(e=Qr.call(this));var t=I;this.setRecordHistory(!1);var i=R;this.setLogHistory(!1),Yr.call(this),lr.call(this),this.solve(),e==r.Symmetry.NONE&&Xr.call(this);for(var f=0;f<r.BOARD_SIZE;f++)C[f]=h[f];lr.call(this);for(var f=0;f<r.BOARD_SIZE;f++){var l=z[f];if(C[l]>0){var s=-1,a=-1,E=-1;switch(e){case r.Symmetry.ROTATE90:a=D(r.ROW_COL_SEC_SIZE-1-n(l),u(l)),E=D(n(l),r.ROW_COL_SEC_SIZE-1-u(l));case r.Symmetry.ROTATE180:s=D(r.ROW_COL_SEC_SIZE-1-u(l),r.ROW_COL_SEC_SIZE-1-n(l));break;case r.Symmetry.MIRROR:s=D(u(l),r.ROW_COL_SEC_SIZE-1-n(l));break;case r.Symmetry.FLIP:s=D(r.ROW_COL_SEC_SIZE-1-u(l),n(l));break}var v=C[l];C[l]=0;var O=0;s>=0&&(O=C[s],C[s]=0);var S=0;a>=0&&(S=C[a],C[a]=0);var Z=0;E>=0&&(Z=C[E],C[E]=0),w.call(this),this.countSolutions(2,!0)>1&&(C[l]=v,s>=0&&O!=0&&(C[s]=O),a>=0&&S!=0&&(C[a]=S),E>=0&&Z!=0&&(C[E]=Z))}}return w.call(this),this.setRecordHistory(t),this.setLogHistory(i),!0},this.getGivenCount=function(){for(var e=0,t=0;t<r.BOARD_SIZE;t++)C[t]!=0&&e++;return e},this.getSingleCount=function(){return B.call(this,A,r.LogType.SINGLE)},this.getHiddenSingleCount=function(){return B.call(this,A,r.LogType.HIDDEN_SINGLE_ROW)+B.call(this,A,r.LogType.HIDDEN_SINGLE_COLUMN)+B.call(this,A,r.LogType.HIDDEN_SINGLE_SECTION)},this.getNakedPairCount=function(){return B.call(this,A,r.LogType.NAKED_PAIR_ROW)+B.call(this,A,r.LogType.NAKED_PAIR_COLUMN)+B.call(this,A,r.LogType.NAKED_PAIR_SECTION)},this.getHiddenPairCount=function(){return B.call(this,A,r.LogType.HIDDEN_PAIR_ROW)+B.call(this,A,r.LogType.HIDDEN_PAIR_COLUMN)+B.call(this,A,r.LogType.HIDDEN_PAIR_SECTION)},this.getBoxLineReductionCount=function(){return B.call(this,A,r.LogType.ROW_BOX)+B.call(this,A,r.LogType.COLUMN_BOX)},this.getPointingPairTripleCount=function(){return B.call(this,A,r.LogType.POINTING_PAIR_TRIPLE_ROW)+B.call(this,A,r.LogType.POINTING_PAIR_TRIPLE_COLUMN)},this.getGuessCount=function(){return B.call(this,A,r.LogType.GUESS)},this.getBacktrackCount=function(){return B.call(this,V,r.LogType.ROLLBACK)},this.getSolveInstructions=function(){return this.isSolved()?A:"No solve instructions - Puzzle is not possible to solve."},this.getSolveInstructionsString=function(){return this.isSolved()?ur.call(this,A):"No solve instructions - Puzzle is not possible to solve."},this.printSolveInstructions=function(){this.isSolved()?hr(A):U("No solve instructions - Puzzle is not possible to solve.")},this.getDifficulty=function(){return this.getGuessCount()>0?r.Difficulty.EXPERT:this.getBoxLineReductionCount()>0||this.getPointingPairTripleCount()>0||this.getHiddenPairCount()>0||this.getNakedPairCount()>0?r.Difficulty.INTERMEDIATE:this.getHiddenSingleCount()>0?r.Difficulty.EASY:this.getSingleCount()>0?r.Difficulty.SIMPLE:r.Difficulty.UNKNOWN},this.getDifficultyAsString=function(){var e=this.getDifficulty();switch(e){case r.Difficulty.EXPERT:return"Expert";case r.Difficulty.INTERMEDIATE:return"Intermediate";case r.Difficulty.EASY:return"Easy";case r.Difficulty.SIMPLE:return"Simple";default:return"Unknown"}}};return r.PrintStyle={ONE_LINE:0,COMPACT:1,READABLE:2,CSV:3},r.Difficulty={UNKNOWN:0,SIMPLE:1,EASY:2,INTERMEDIATE:3,EXPERT:4},r.Symmetry={NONE:0,ROTATE90:1,ROTATE180:2,MIRROR:3,FLIP:4,RANDOM:5},r.LogType={GIVEN:0,SINGLE:1,HIDDEN_SINGLE_ROW:2,HIDDEN_SINGLE_COLUMN:3,HIDDEN_SINGLE_SECTION:4,GUESS:5,ROLLBACK:6,NAKED_PAIR_ROW:7,NAKED_PAIR_COLUMN:8,NAKED_PAIR_SECTION:9,POINTING_PAIR_TRIPLE_ROW:10,POINTING_PAIR_TRIPLE_COLUMN:11,ROW_BOX:12,COLUMN_BOX:13,HIDDEN_PAIR_ROW:14,HIDDEN_PAIR_COLUMN:15,HIDDEN_PAIR_SECTION:16},r.GRID_SIZE=3,r.ROW_COL_SEC_SIZE=r.GRID_SIZE*r.GRID_SIZE,r.SEC_GROUP_SIZE=r.ROW_COL_SEC_SIZE*r.GRID_SIZE,r.BOARD_SIZE=r.ROW_COL_SEC_SIZE*r.ROW_COL_SEC_SIZE,r.POSSIBILITY_SIZE=r.BOARD_SIZE*r.ROW_COL_SEC_SIZE,Sr=r,Sr}var ge=Le();const De=Ce(ge),Hr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function ye(r){if(r.length!==81)throw new Error("Input array must have exactly 81 numbers");if(!r.every(_=>_>=0&&_<=9))return console.error("All numbers must be between 0 and 9",r),"";let n="";for(let _=0;_<r.length;_+=3){const L=_<r.length?r[_]:0,g=_+1<r.length?r[_+1]:0,y=_+2<r.length?r[_+2]:0,c=(L*100+g*10+y).toString(2).padStart(10,"0");n+=c}let u="";for(let _=0;_<n.length;_+=6){const L=n.substring(_,_+6).padEnd(6,"0"),g=parseInt(L,2);u+=Hr[g]}return u}function me(r){let n="";for(const _ of r){const L=Hr.indexOf(_);if(L===-1)return console.error(`Invalid base64 URL character: ${_}`),null;n+=L.toString(2).padStart(6,"0")}const u=[];for(let _=0;_<n.length&&!(_+10>n.length);_+=10){const L=n.substring(_,_+10),g=parseInt(L,2),y=Math.floor(g/100),W=Math.floor(g%100/10),c=g%10;if(u.push(y,W,c),u.length>=81)break}return u.slice(0,81)}const Q=[[],[],[],[],[]];class Ze{constructor(){Lr(this,"qq",new De);this.qq.setPrintStyle(0),this.qq.setRecordHistory(!0)}generateBoardString(n){if(Q[n].length>0)return Q[n].pop();let u=0;const _=Q[n];for(;_.length<10;){const[L,g]=this.generatePuzzle();if(Q[L].length<100&&Q[L].push(g),u+=1,u>300)break}return _.pop()}generatePuzzle(){this.qq.generatePuzzleSymmetry(5);const n=this.qq.getPuzzleString();return this.qq.solve(),[this.qq.getDifficulty(),this.standardizePuzzle(n.trim())]}standardizePuzzle(n){const u=".123456789",_=[];for(const L of n){let g=u.indexOf(L);g===-1&&(g=0),_.push(g)}return ye(_)}prepare(){for(let n=0;n<4;n++){const[u,_]=this.generatePuzzle();Q[u].length<100&&Q[u].push(_)}}}const br=new Ze;br.prepare();setInterval(()=>{Q.some(r=>r.length<10)&&br.prepare()},1e3);function Me(r,n){const u=Array(9).fill(null).map(()=>Array(9).fill(null).map(()=>Array(9).fill(!1)));return{level:r,initialBoard:n,board:n,notes:u,selectedCell:{row:-1,col:-1}}}const He=[{id:0,name:"Random",color:"#6b7280",gradient:"linear-gradient(135deg, #6b7280, #4b5563)",icon:"❓"},{id:1,name:"Easy",color:"#4ade80",gradient:"linear-gradient(135deg, #4ade80, #22c55e)",icon:"⭐"},{id:2,name:"Medium",color:"#60a5fa",gradient:"linear-gradient(135deg, #60a5fa, #3b82f6)",icon:"⭐⭐"},{id:3,name:"Hard",color:"#f97316",gradient:"linear-gradient(135deg, #f97316, #ea580c)",icon:"⭐⭐⭐"},{id:4,name:"Diabolic",color:"#ef4444",gradient:"linear-gradient(135deg, #ef4444, #dc2626)",icon:"⭐⭐⭐⭐"}];function be(r){return`${Ie}${r}`}export{He as L,be as a,pe as b,ye as c,me as d,We as e,Me as f,br as g,Pe as i,Ge as t};
