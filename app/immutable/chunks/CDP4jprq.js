import{ak as dr,j as Jr,ao as Gr,P as vr,o as j,ab as $r,L as jr,g as Dr,X as xr,N as re,O as yr,Q as Sr,p as ir,ae as ee,R as pr,k as Mr,T as te,ap as or,ai as mr,a8 as ae,H as Zr,aq as Or,ar as Nr,as as Rr,a2 as ie,C as Tr,K as fe,at as ne,au as se,ah as le,av as _e,m as ue,aw as Ee,ac as ve}from"./DYrX2ids.js";function Le(r,u){return u}function Se(r,u,v,O){for(var y=[],T=u.length,Z=0;Z<T;Z++)se(u[Z].e,y,!0);var W=T>0&&y.length===0&&v!==null;if(W){var c=v.parentNode;le(c),c.append(v),O.clear(),$(r,u[0].prev,u[T-1].next)}_e(y,()=>{for(var L=0;L<T;L++){var G=u[L];W||(O.delete(G.k),$(r,G.prev,G.next)),ue(G.e,!W)}})}function ge(r,u,v,O,y,T=null){var Z=r,W={flags:u,items:new Map,first:null},c=(u&Gr)!==0;if(c){var L=r;Z=j?vr($r(L)):L.appendChild(dr())}j&&jr();var G=null,k=!1,N=xr(()=>{var C=v();return fe(C)?C:C==null?[]:mr(C)});Jr(()=>{var C=Dr(N),h=C.length;if(k&&h===0)return;k=h===0;let U=!1;if(j){var _=Z.data===re;_!==(h===0)&&(Z=yr(),vr(Z),Sr(!1),U=!0)}if(j){for(var b=null,m,H=0;H<h;H++){if(ir.nodeType===8&&ir.data===ee){Z=ir,U=!0,Sr(!1);break}var o=C[H],R=O(o,H);m=Hr(ir,W,b,null,o,R,H,y,u,v),W.items.set(R,m),b=m}h>0&&vr(yr())}j||oe(C,W,Z,y,u,O,v),T!==null&&(h===0?G?pr(G):G=Mr(()=>T(Z)):G!==null&&te(G,()=>{G=null})),U&&Sr(!0),Dr(N)}),j&&(Z=ir)}function oe(r,u,v,O,y,T,Z){var fr,nr,ar,x;var W=(y&ne)!==0,c=(y&(Or|Rr))!==0,L=r.length,G=u.items,k=u.first,N=k,C,h=null,U,_=[],b=[],m,H,o,R;if(W)for(R=0;R<L;R+=1)m=r[R],H=T(m,R),o=G.get(H),o!==void 0&&((fr=o.a)==null||fr.measure(),(U??(U=new Set)).add(o));for(R=0;R<L;R+=1){if(m=r[R],H=T(m,R),o=G.get(H),o===void 0){var Y=N?N.e.nodes_start:v;h=Hr(Y,u,h,h===null?u.first:h.next,m,H,R,O,y,Z),G.set(H,h),_=[],b=[],N=h.next;continue}if(c&&ce(o,m,R,y),(o.e.f&or)!==0&&(pr(o.e),W&&((nr=o.a)==null||nr.unfix(),(U??(U=new Set)).delete(o))),o!==N){if(C!==void 0&&C.has(o)){if(_.length<b.length){var A=b[0],M;h=A.prev;var er=_[0],K=_[_.length-1];for(M=0;M<_.length;M+=1)Ar(_[M],A,v);for(M=0;M<b.length;M+=1)C.delete(b[M]);$(u,er.prev,K.next),$(u,h,er),$(u,K,A),N=A,h=K,R-=1,_=[],b=[]}else C.delete(o),Ar(o,N,v),$(u,o.prev,o.next),$(u,o,h===null?u.first:h.next),$(u,h,o),h=o;continue}for(_=[],b=[];N!==null&&N.k!==H;)(N.e.f&or)===0&&(C??(C=new Set)).add(N),b.push(N),N=N.next;if(N===null)continue;o=N}_.push(o),h=o,N=o.next}if(N!==null||C!==void 0){for(var Q=C===void 0?[]:mr(C);N!==null;)(N.e.f&or)===0&&Q.push(N),N=N.next;var tr=Q.length;if(tr>0){var sr=(y&Gr)!==0&&L===0?v:null;if(W){for(R=0;R<tr;R+=1)(ar=Q[R].a)==null||ar.measure();for(R=0;R<tr;R+=1)(x=Q[R].a)==null||x.fix()}Se(u,Q,sr,G)}}W&&ae(()=>{var q;if(U!==void 0)for(o of U)(q=o.a)==null||q.apply()}),Zr.first=u.first&&u.first.e,Zr.last=h&&h.e}function ce(r,u,v,O){(O&Or)!==0&&Nr(r.v,u),(O&Rr)!==0?Nr(r.i,v):r.i=v}function Hr(r,u,v,O,y,T,Z,W,c,L){var G=(c&Or)!==0,k=(c&Ee)===0,N=G?k?ie(y):Tr(y):y,C=(c&Rr)===0?Z:Tr(Z),h={i:C,v:N,k:T,a:null,e:null,prev:v,next:O};try{return h.e=Mr(()=>W(r,N,C,L),j),h.e.prev=v&&v.e,h.e.next=O&&O.e,v===null?u.first=h:(v.next=h,v.e.next=h.e),O!==null&&(O.prev=h,O.e.prev=h.e),h}finally{}}function Ar(r,u,v){for(var O=r.next?r.next.e.nodes_start:v,y=u?u.e.nodes_start:v,T=r.e.nodes_start;T!==O;){var Z=ve(T);y.before(T),T=Z}}function $(r,u,v){u===null?r.first=v:(u.next=v,u.e.next=v&&v.e),v!==null&&(v.prev=u,v.e.prev=u&&u.e)}const Pr=[...` 	
\r\fÂ \v\uFEFF`];function De(r,u,v){var O=r==null?"":""+r;if(v){for(var y in v)if(v[y])O=O?O+" "+y:y;else if(O.length)for(var T=y.length,Z=0;(Z=O.indexOf(y,Z))>=0;){var W=Z+T;(Z===0||Pr.includes(O[Z-1]))&&(W===O.length||Pr.includes(O[W]))?O=(Z===0?"":O.substring(0,Z))+O.substring(W+1):Z=W}}return O===""?null:O}function ye(r,u){return r==null?null:String(r)}function Ie(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}/*!
 * qqwing - Sudoku solver and generator
 * Copyright (C) 2014 Stephen Ostermiller
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along
 * with this program; if not, write to the Free Software Foundation, Inc.,
 * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
 */var cr,Wr;function Oe(){if(Wr)return cr;Wr=1;var r=function(){for(var u=function(e){return e%r.ROW_COL_SEC_SIZE},v=function(e){return Math.floor(e/r.ROW_COL_SEC_SIZE)},O=function(e){return Math.floor(e/r.SEC_GROUP_SIZE)*r.SEC_GROUP_SIZE+Math.floor(u(e)/r.GRID_SIZE)*r.GRID_SIZE},y=function(e){return Math.floor(e/r.SEC_GROUP_SIZE)*r.GRID_SIZE+Math.floor(u(e)/r.GRID_SIZE)},T=function(e){return r.ROW_COL_SEC_SIZE*e},Z=function(e){return e},W=function(e){return e%r.GRID_SIZE*r.GRID_SIZE+Math.floor(e/r.GRID_SIZE)*r.SEC_GROUP_SIZE},c=function(e,t){return e+r.ROW_COL_SEC_SIZE*t},L=function(e,t){return e*r.ROW_COL_SEC_SIZE+t},G=function(e,t){return W(e)+Math.floor(t/r.GRID_SIZE)*r.ROW_COL_SEC_SIZE+t%r.GRID_SIZE},k=function(e){typeof console<"u"&&console.log&&console.log(e)},N=function(e){typeof process<"u"&&process.stdout&&process.stdout.write?process.stdout.write(e):k(e)},C=new Array(r.BOARD_SIZE),h=new Array(r.BOARD_SIZE),U=new Array(r.BOARD_SIZE),_=new Array(r.POSSIBILITY_SIZE),b=new Array(r.BOARD_SIZE),m=0;m<r.BOARD_SIZE;m++)b[m]=m;for(var H=new Array(r.ROW_COL_SEC_SIZE),m=0;m<r.ROW_COL_SEC_SIZE;m++)H[m]=m;var o=!1,R=!1,Y=[],A=[],M=r.PrintStyle.READABLE,er=0,K=function(){for(var e=0;e<r.BOARD_SIZE;e++)h[e]=0;for(var e=0;e<r.BOARD_SIZE;e++)U[e]=0;for(var e=0;e<r.POSSIBILITY_SIZE;e++)_[e]=0;Y=[],A=[];for(var t=1,i=0;i<r.BOARD_SIZE;i++)if(C[i]>0){var f=C[i]-1,n=c(f,i),s=C[i];if(_[n]!=0)return!1;rr.call(this,i,t,s),(R||o)&&B.call(this,new this.LogItem(t,r.LogType.GIVEN,s,i))}return!0},Q=function(e){return!!(tr.call(this,e)||nr.call(this,e)||sr.call(this,e)||fr.call(this,e)||Vr.call(this,e)||Br.call(this,e)||Ur.call(this,e)||br.call(this,e)||zr.call(this,e)||kr.call(this,e)||wr.call(this,e)||Kr.call(this,e))},tr=function(e){for(var t=0;t<r.BOARD_SIZE;t++)if(h[t]==0){for(var i=0,f=0,n=0;n<r.ROW_COL_SEC_SIZE;n++){var s=c(n,t);_[s]==0&&(i++,f=n+1)}if(i==1)return rr.call(this,t,e,f),(R||o)&&B.call(this,new this.LogItem(e,r.LogType.SINGLE,f,t)),!0}return!1},sr=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var f=0,n=0,s=0;s<r.ROW_COL_SEC_SIZE;s++){var a=t*r.ROW_COL_SEC_SIZE+s,l=c(i,a);_[l]==0&&(f++,n=a)}if(f==1){var E=i+1;return(R||o)&&B.call(this,new this.LogItem(e,r.LogType.HIDDEN_SINGLE_ROW,E,n)),rr.call(this,n,e,E),!0}}return!1},fr=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var f=0,n=0,s=0;s<r.ROW_COL_SEC_SIZE;s++){var a=L(s,t),l=c(i,a);_[l]==0&&(f++,n=a)}if(f==1){var E=i+1;return(R||o)&&B.call(this,new this.LogItem(e,r.LogType.HIDDEN_SINGLE_COLUMN,E,n)),rr.call(this,n,e,E),!0}}return!1},nr=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=W(t),f=0;f<r.ROW_COL_SEC_SIZE;f++){for(var n=0,s=0,a=0;a<r.GRID_SIZE;a++)for(var l=0;l<r.GRID_SIZE;l++){var E=i+a+r.ROW_COL_SEC_SIZE*l,I=c(f,E);_[I]==0&&(n++,s=E)}if(n==1){var S=f+1;return(R||o)&&B.call(this,new this.LogItem(e,r.LogType.HIDDEN_SINGLE_SECTION,S,s)),rr.call(this,s,e,S),!0}}return!1},ar=function(e,t){for(var i=0,f=qr.call(this),n=0;n<r.ROW_COL_SEC_SIZE;n++){var s=H[n],a=c(s,f);if(_[a]==0){if(i==t){var l=s+1;return(R||o)&&B.call(this,new this.LogItem(e,r.LogType.GUESS,l,f)),rr.call(this,f,e,l),!0}i++}}return!1},x=function(){for(var e=0;e<r.BOARD_SIZE;e++)if(h[e]==0){for(var t=0,i=0;i<r.ROW_COL_SEC_SIZE;i++){var f=c(i,e);_[f]==0&&t++}if(t==0)return!0}return!1},q=function(e){(R||o)&&B.call(this,new this.LogItem(e,r.LogType.ROLLBACK));for(var t=0;t<r.BOARD_SIZE;t++)U[t]==e&&(U[t]=0,h[t]=0);for(var t=0;t<r.POSSIBILITY_SIZE;t++)_[t]==e&&(_[t]=0);for(;A.length>0&&A[A.length-1]==e;)A.pop()},Br=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var f=W(i),n=!0,s=-1,a=0;a<r.GRID_SIZE;a++)for(var l=0;l<r.GRID_SIZE;l++){var E=f+l+r.ROW_COL_SEC_SIZE*a,I=c(t,E);_[I]==0&&(s==-1||s==a?s=a:n=!1)}if(n&&s!=-1){for(var S=!1,g=v(f)+s,p=T(g),l=0;l<r.ROW_COL_SEC_SIZE;l++){var P=p+l,D=y(P),I=c(t,P);i!=D&&_[I]==0&&(_[I]=e,S=!0)}if(S)return(R||o)&&B.call(this,new this.LogItem(e,r.LogType.POINTING_PAIR_TRIPLE_ROW,t+1,p)),!0}}return!1},br=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var f=T(i),n=!0,s=-1,a=0;a<r.GRID_SIZE;a++)for(var l=0;l<r.GRID_SIZE;l++){var E=a*r.GRID_SIZE+l,I=L(i,E),S=c(t,I);_[S]==0&&(s==-1||s==a?s=a:n=!1)}if(n&&s!=-1){for(var g=!1,E=r.GRID_SIZE*s,p=O(L(i,E)),P=v(p),D=u(p),a=0;a<r.GRID_SIZE;a++)for(var l=0;l<r.GRID_SIZE;l++){var w=P+a,F=D+l,I=L(w,F),S=c(t,I);i!=w&&_[S]==0&&(_[S]=e,g=!0)}if(g)return(R||o)&&B.call(this,new this.LogItem(e,r.LogType.ROW_BOX,t+1,f)),!0}}return!1},zr=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var f=T(i),n=!0,s=-1,a=0;a<r.GRID_SIZE;a++)for(var l=0;l<r.GRID_SIZE;l++){var E=a*r.GRID_SIZE+l,I=L(i,E),S=c(t,I);_[S]==0&&(s==-1||s==a?s=a:n=!1)}if(n&&s!=-1){for(var g=!1,E=r.GRID_SIZE*s,p=O(L(i,E)),P=v(p),D=u(p),a=0;a<r.GRID_SIZE;a++)for(var l=0;l<r.GRID_SIZE;l++){var w=P+a,F=D+l,I=L(w,F),S=c(t,I);i!=w&&_[S]==0&&(_[S]=e,g=!0)}if(g)return(R||o)&&B.call(this,new this.LogItem(e,r.LogType.ROW_BOX,t+1,f)),!0}}return!1},Ur=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var f=W(i),n=!0,s=-1,a=0;a<r.GRID_SIZE;a++)for(var l=0;l<r.GRID_SIZE;l++){var E=f+a+r.ROW_COL_SEC_SIZE*l,I=c(t,E);_[I]==0&&(s==-1||s==a?s=a:n=!1)}if(n&&s!=-1){for(var S=!1,g=u(f)+s,p=Z(g),a=0;a<r.ROW_COL_SEC_SIZE;a++){var P=p+r.ROW_COL_SEC_SIZE*a,D=y(P),I=c(t,P);i!=D&&_[I]==0&&(_[I]=e,S=!0)}if(S)return(R||o)&&B.call(this,new this.LogItem(e,r.LogType.POINTING_PAIR_TRIPLE_COLUMN,t+1,p)),!0}}return!1},kr=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var f=-1,n=-1,s=0,a=0;a<r.ROW_COL_SEC_SIZE;a++){var l=L(t,a),E=c(i,l);_[E]==0&&(f==-1||f==a?f=a:(n==-1||n==a)&&(n=a),s++)}if(s==2)for(var I=i+1;I<r.ROW_COL_SEC_SIZE;I++){for(var S=-1,g=-1,p=0,a=0;a<r.ROW_COL_SEC_SIZE;a++){var l=L(t,a),E=c(I,l);_[E]==0&&(S==-1||S==a?S=a:(g==-1||g==a)&&(g=a),p++)}if(p==2&&f==S&&n==g){for(var P=!1,D=0;D<r.ROW_COL_SEC_SIZE;D++)if(D!=i&&D!=I){var w=L(t,f),F=L(t,n),d=c(D,w),J=c(D,F);_[d]==0&&(_[d]=e,P=!0),_[J]==0&&(_[J]=e,P=!0)}if(P)return(R||o)&&B.call(this,new this.LogItem(e,r.LogType.HIDDEN_PAIR_ROW,i+1,L(t,f))),!0}}}return!1},wr=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var f=-1,n=-1,s=0,a=0;a<r.ROW_COL_SEC_SIZE;a++){var l=L(a,t),E=c(i,l);_[E]==0&&(f==-1||f==a?f=a:(n==-1||n==a)&&(n=a),s++)}if(s==2)for(var I=i+1;I<r.ROW_COL_SEC_SIZE;I++){for(var S=-1,g=-1,p=0,a=0;a<r.ROW_COL_SEC_SIZE;a++){var l=L(a,t),E=c(I,l);_[E]==0&&(S==-1||S==a?S=a:(g==-1||g==a)&&(g=a),p++)}if(p==2&&f==S&&n==g){for(var P=!1,D=0;D<r.ROW_COL_SEC_SIZE;D++)if(D!=i&&D!=I){var w=L(f,t),F=L(n,t),d=c(D,w),J=c(D,F);_[d]==0&&(_[d]=e,P=!0),_[J]==0&&(_[J]=e,P=!0)}if(P)return(R||o)&&B.call(this,new this.LogItem(e,r.LogType.HIDDEN_PAIR_COLUMN,i+1,L(f,t))),!0}}}return!1},Kr=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var f=-1,n=-1,s=0,a=0;a<r.ROW_COL_SEC_SIZE;a++){var l=G(t,a),E=c(i,l);_[E]==0&&(f==-1||f==a?f=a:(n==-1||n==a)&&(n=a),s++)}if(s==2)for(var I=i+1;I<r.ROW_COL_SEC_SIZE;I++){for(var S=-1,g=-1,p=0,a=0;a<r.ROW_COL_SEC_SIZE;a++){var l=G(t,a),E=c(I,l);_[E]==0&&(S==-1||S==a?S=a:(g==-1||g==a)&&(g=a),p++)}if(p==2&&f==S&&n==g){for(var P=!1,D=0;D<r.ROW_COL_SEC_SIZE;D++)if(D!=i&&D!=I){var w=G(t,f),F=G(t,n),d=c(D,w),J=c(D,F);_[d]==0&&(_[d]=e,P=!0),_[J]==0&&(_[J]=e,P=!0)}if(P)return(R||o)&&B.call(this,new this.LogItem(e,r.LogType.HIDDEN_PAIR_SECTION,i+1,G(t,f))),!0}}}return!1},rr=function(e,t,i){if(h[e]!=0)throw"Marking position that already has been marked.";if(U[e]!=0)throw"Marking position that was marked another round.";var f=i-1;h[e]=i;var n=c(f,e);if(_[n]!=0)throw"Marking impossible position.";U[e]=t;for(var s=v(e)*r.ROW_COL_SEC_SIZE,a=0;a<r.ROW_COL_SEC_SIZE;a++){var l=s+a,E=c(f,l);_[E]==0&&(_[E]=t)}for(var I=u(e),S=0;S<r.ROW_COL_SEC_SIZE;S++){var g=I+r.ROW_COL_SEC_SIZE*S,E=c(f,g);_[E]==0&&(_[E]=t)}for(var p=O(e),S=0;S<r.GRID_SIZE;S++)for(var P=0;P<r.GRID_SIZE;P++){var D=p+S+r.ROW_COL_SEC_SIZE*P,E=c(f,D);_[E]==0&&(_[E]=t)}for(var f=0;f<r.ROW_COL_SEC_SIZE;f++){var E=c(f,e);_[E]==0&&(_[E]=t)}},qr=function(){for(var e=10,t=0,i=0;i<r.BOARD_SIZE;i++){var f=b[i];if(h[f]==0){for(var n=0,s=0;s<r.ROW_COL_SEC_SIZE;s++){var a=c(s,f);_[a]==0&&n++}n<e&&(e=n,t=f)}}return t},Vr=function(e){for(var t=0;t<r.BOARD_SIZE;t++){var i=hr(t);if(i==2){for(var f=v(t),n=u(t),s=O(t),a=t;a<r.BOARD_SIZE;a++)if(t!=a){var l=hr(a);if(l==2&&Xr(t,a)){if(f==v(a)){for(var E=!1,I=0;I<r.ROW_COL_SEC_SIZE;I++){var S=L(f,I);S!=t&&S!=a&&Er(t,S,e)&&(E=!0)}if(E)return(R||o)&&B.call(this,new this.LogItem(e,r.LogType.NAKED_PAIR_ROW,0,t)),!0}if(n==u(a)){for(var E=!1,g=0;g<r.ROW_COL_SEC_SIZE;g++){var S=L(g,n);S!=t&&S!=a&&Er(t,S,e)&&(E=!0)}if(E)return(R||o)&&B.call(this,new this.LogItem(e,r.LogType.NAKED_PAIR_COLUMN,0,t)),!0}if(s==O(a)){for(var E=!1,p=O(t),P=0;P<r.GRID_SIZE;P++)for(var D=0;D<r.GRID_SIZE;D++){var S=p+P+r.ROW_COL_SEC_SIZE*D;S!=t&&S!=a&&Er(t,S,e)&&(E=!0)}if(E)return(R||o)&&B.call(this,new this.LogItem(e,r.LogType.NAKED_PAIR_SECTION,0,t)),!0}}}}}return!1},hr=function(e){for(var t=0,i=0;i<r.ROW_COL_SEC_SIZE;i++){var f=c(i,e);_[f]==0&&t++}return t},Xr=function(e,t){for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){var f=c(i,e),n=c(i,t);if((_[f]==0||_[n]==0)&&(_[f]!=0||_[n]!=0))return!1}return!0},B=function(e){R&&e.print(),o&&(Y.push(e),A.push(e))},lr=function(){gr(b,r.BOARD_SIZE),gr(H,r.ROW_COL_SEC_SIZE)},Cr=function(e){N(_r.call(this,e))},_r=function(e){for(var t="",i=0;i<r.BOARD_SIZE;i++)M==r.PrintStyle.READABLE&&(t+=" "),e[i]==0?t+=".":t+=e[i],i==r.BOARD_SIZE-1?(M==r.PrintStyle.CSV?t+=",":t+=`
`,(M==r.PrintStyle.READABLE||M==r.PrintStyle.COMPACT)&&(t+=`
`)):i%r.ROW_COL_SEC_SIZE==r.ROW_COL_SEC_SIZE-1?((M==r.PrintStyle.READABLE||M==r.PrintStyle.COMPACT)&&(t+=`
`),i%r.SEC_GROUP_SIZE==r.SEC_GROUP_SIZE-1&&M==r.PrintStyle.READABLE&&(t+=`-------|-------|-------
`)):i%r.GRID_SIZE==r.GRID_SIZE-1&&M==r.PrintStyle.READABLE&&(t+=" |");return t},Fr=function(){for(var e=2;e<=er;e+=2)q.call(this,e)},Yr=function(){for(var e=0;e<r.BOARD_SIZE;e++)C[e]=0;K.call(this)},Lr=function(e){N(ur(e))},ur=function(e){var t="";o||(t+="History was not recorded.",M==r.PrintStyle.CSV?t+=" -- ":t+=`
`);for(var i=0;i<e.length;i++)t+=i+1+". "+e[i].toString(),M==r.PrintStyle.CSV?t+=" -- ":t+=`
`;return M==r.PrintStyle.CSV?t+=",":t+=`
`,t},Er=function(e,t,i){for(var f=!1,n=0;n<r.ROW_COL_SEC_SIZE;n++){var s=c(n,e),a=c(n,t);_[s]==0&&_[a]==0&&(_[a]=i,f=!0)}return f},gr=function(e,t){for(var i=0;i<t;i++){var f=t-i,n=Math.floor(Math.random()*f)+i,s=e[i];e[i]=e[n],e[n]=s}},Qr=function(){var e=Math.floor(Math.random()*4);switch(e){case 0:return r.Symmetry.ROTATE90;case 1:return r.Symmetry.ROTATE180;case 2:return r.Symmetry.MIRROR;case 3:return r.Symmetry.FLIP}throw"Unexpected random value: "+e},z=function(e,t){for(var i=0,f=0;f<e.length;f++)e[f].getType()==t&&i++;return i};this.LogItem=function(e,t,i,f){var n=e,s=t,a=i,l=f;this.getRound=function(){return n},this.print=function(){k(this.toString())},this.getType=function(){return s},this.getColumn=function(){return l==-1?-1:u(l)},this.getRow=function(){return l==-1?-1:v(l)},this.getPosition=function(){return l},this.getValue=function(){return a},this.getDescription=function(){switch(this.getType()){case r.LogType.GIVEN:return"Mark given";case r.LogType.ROLLBACK:return"Roll back round";case r.LogType.GUESS:return"Mark guess (start round)";case r.LogType.HIDDEN_SINGLE_ROW:return"Mark single possibility for value in row";case r.LogType.HIDDEN_SINGLE_COLUMN:return"Mark single possibility for value in column";case r.LogType.HIDDEN_SINGLE_SECTION:return"Mark single possibility for value in section";case r.LogType.SINGLE:return"Mark only possibility for cell";case r.LogType.NAKED_PAIR_ROW:return"Remove possibilities for naked pair in row";case r.LogType.NAKED_PAIR_COLUMN:return"Remove possibilities for naked pair in column";case r.LogType.NAKED_PAIR_SECTION:return"Remove possibilities for naked pair in section";case r.LogType.POINTING_PAIR_TRIPLE_ROW:return"Remove possibilities for row because all values are in one section";case r.LogType.POINTING_PAIR_TRIPLE_COLUMN:return"Remove possibilities for column because all values are in one section";case r.LogType.ROW_BOX:return"Remove possibilities for section because all values are in one row";case r.LogType.COLUMN_BOX:return"Remove possibilities for section because all values are in one column";case r.LogType.HIDDEN_PAIR_ROW:return"Remove possibilities from hidden pair in row";case r.LogType.HIDDEN_PAIR_COLUMN:return"Remove possibilities from hidden pair in column";case r.LogType.HIDDEN_PAIR_SECTION:return"Remove possibilities from hidden pair in section";default:return"!!! Performed unknown optimization !!!"}},this.toString=function(){var E="Round: "+this.getRound()+" - ";if(E+=this.getDescription(),a>0||l>-1){E+=" (";var I=!1;l>-1&&(I&&(E+=" - "),E+="Row: "+(v(l)+1)+" - Column: "+(u(l)+1),I=!0),a>0&&(I&&(E+=" - "),E+="Value: "+a,I=!0),E+=")"}return E}},this.setPuzzle=function(e){for(var t=0;t<r.BOARD_SIZE;t++)C[t]=e[t];return K.call(this)},this.printPuzzle=function(){return Cr.call(this,C)},this.getPuzzleString=function(){return _r.call(this,C)},this.printSolution=function(){return Cr.call(this,h)},this.getSolutionString=function(){return _r.call(this,h)},this.solve=function(e){if(!e||e<=1)return K.call(this),lr(),this.solve(2);for(er=e;Q.call(this,e);){if(this.isSolved())return!0;if(x.call(this))return!1}for(var t=e+1,i=e+2,f=0;ar.call(this,t,f);f++)if(x.call(this)||!this.solve(i))q.call(this,i),q.call(this,t);else return!0;return!1},this.countSolutions=function(e,t){if(!e||e<=1){var i=o;this.setRecordHistory(!1);var f=R;this.setLogHistory(!1),K.call(this);var n=this.countSolutions(2,!1);return this.setRecordHistory(i),this.setLogHistory(f),n}else{for(;Q.call(this,e);){if(this.isSolved())return q.call(this,e),1;if(x.call(this))return q.call(this,e),0}for(var s=0,a=e+1,l=0;ar.call(this,a,l);l++)if(s+=this.countSolutions(a,t),t&&s>=2)return q.call(this,e),s;return q.call(this,e),s}},this.isSolved=function(){for(var e=0;e<r.BOARD_SIZE;e++)if(h[e]==0)return!1;return!0},this.getSolveHistory=function(){return this.isSolved()?Y:"No solve history - Puzzle is not possible to solve."},this.getSolveHistoryString=function(){return this.isSolved()?ur.call(this,Y):"No solve history - Puzzle is not possible to solve."},this.printSolveHistory=function(){this.isSolved()?Lr(Y):k("No solve history - Puzzle is not possible to solve.")},this.setRecordHistory=function(e){o=e},this.setLogHistory=function(e){R=e},this.setPrintStyle=function(e){M=e},this.generatePuzzle=function(){return this.generatePuzzleSymmetry(r.Symmetry.NONE)},this.generatePuzzleSymmetry=function(e){e==r.Symmetry.RANDOM&&(e=Qr.call(this));var t=o;this.setRecordHistory(!1);var i=R;this.setLogHistory(!1),Yr.call(this),lr.call(this),this.solve(),e==r.Symmetry.NONE&&Fr.call(this);for(var f=0;f<r.BOARD_SIZE;f++)C[f]=h[f];lr.call(this);for(var f=0;f<r.BOARD_SIZE;f++){var n=b[f];if(C[n]>0){var s=-1,a=-1,l=-1;switch(e){case r.Symmetry.ROTATE90:a=L(r.ROW_COL_SEC_SIZE-1-u(n),v(n)),l=L(u(n),r.ROW_COL_SEC_SIZE-1-v(n));case r.Symmetry.ROTATE180:s=L(r.ROW_COL_SEC_SIZE-1-v(n),r.ROW_COL_SEC_SIZE-1-u(n));break;case r.Symmetry.MIRROR:s=L(v(n),r.ROW_COL_SEC_SIZE-1-u(n));break;case r.Symmetry.FLIP:s=L(r.ROW_COL_SEC_SIZE-1-v(n),u(n));break}var E=C[n];C[n]=0;var I=0;s>=0&&(I=C[s],C[s]=0);var S=0;a>=0&&(S=C[a],C[a]=0);var g=0;l>=0&&(g=C[l],C[l]=0),K.call(this),this.countSolutions(2,!0)>1&&(C[n]=E,s>=0&&I!=0&&(C[s]=I),a>=0&&S!=0&&(C[a]=S),l>=0&&g!=0&&(C[l]=g))}}return K.call(this),this.setRecordHistory(t),this.setLogHistory(i),!0},this.getGivenCount=function(){for(var e=0,t=0;t<r.BOARD_SIZE;t++)C[t]!=0&&e++;return e},this.getSingleCount=function(){return z.call(this,A,r.LogType.SINGLE)},this.getHiddenSingleCount=function(){return z.call(this,A,r.LogType.HIDDEN_SINGLE_ROW)+z.call(this,A,r.LogType.HIDDEN_SINGLE_COLUMN)+z.call(this,A,r.LogType.HIDDEN_SINGLE_SECTION)},this.getNakedPairCount=function(){return z.call(this,A,r.LogType.NAKED_PAIR_ROW)+z.call(this,A,r.LogType.NAKED_PAIR_COLUMN)+z.call(this,A,r.LogType.NAKED_PAIR_SECTION)},this.getHiddenPairCount=function(){return z.call(this,A,r.LogType.HIDDEN_PAIR_ROW)+z.call(this,A,r.LogType.HIDDEN_PAIR_COLUMN)+z.call(this,A,r.LogType.HIDDEN_PAIR_SECTION)},this.getBoxLineReductionCount=function(){return z.call(this,A,r.LogType.ROW_BOX)+z.call(this,A,r.LogType.COLUMN_BOX)},this.getPointingPairTripleCount=function(){return z.call(this,A,r.LogType.POINTING_PAIR_TRIPLE_ROW)+z.call(this,A,r.LogType.POINTING_PAIR_TRIPLE_COLUMN)},this.getGuessCount=function(){return z.call(this,A,r.LogType.GUESS)},this.getBacktrackCount=function(){return z.call(this,Y,r.LogType.ROLLBACK)},this.getSolveInstructions=function(){return this.isSolved()?A:"No solve instructions - Puzzle is not possible to solve."},this.getSolveInstructionsString=function(){return this.isSolved()?ur.call(this,A):"No solve instructions - Puzzle is not possible to solve."},this.printSolveInstructions=function(){this.isSolved()?Lr(A):k("No solve instructions - Puzzle is not possible to solve.")},this.getDifficulty=function(){return this.getGuessCount()>0?r.Difficulty.EXPERT:this.getBoxLineReductionCount()>0||this.getPointingPairTripleCount()>0||this.getHiddenPairCount()>0||this.getNakedPairCount()>0?r.Difficulty.INTERMEDIATE:this.getHiddenSingleCount()>0?r.Difficulty.EASY:this.getSingleCount()>0?r.Difficulty.SIMPLE:r.Difficulty.UNKNOWN},this.getDifficultyAsString=function(){var e=this.getDifficulty();switch(e){case r.Difficulty.EXPERT:return"Expert";case r.Difficulty.INTERMEDIATE:return"Intermediate";case r.Difficulty.EASY:return"Easy";case r.Difficulty.SIMPLE:return"Simple";default:return"Unknown"}}};return r.PrintStyle={ONE_LINE:0,COMPACT:1,READABLE:2,CSV:3},r.Difficulty={UNKNOWN:0,SIMPLE:1,EASY:2,INTERMEDIATE:3,EXPERT:4},r.Symmetry={NONE:0,ROTATE90:1,ROTATE180:2,MIRROR:3,FLIP:4,RANDOM:5},r.LogType={GIVEN:0,SINGLE:1,HIDDEN_SINGLE_ROW:2,HIDDEN_SINGLE_COLUMN:3,HIDDEN_SINGLE_SECTION:4,GUESS:5,ROLLBACK:6,NAKED_PAIR_ROW:7,NAKED_PAIR_COLUMN:8,NAKED_PAIR_SECTION:9,POINTING_PAIR_TRIPLE_ROW:10,POINTING_PAIR_TRIPLE_COLUMN:11,ROW_BOX:12,COLUMN_BOX:13,HIDDEN_PAIR_ROW:14,HIDDEN_PAIR_COLUMN:15,HIDDEN_PAIR_SECTION:16},r.GRID_SIZE=3,r.ROW_COL_SEC_SIZE=r.GRID_SIZE*r.GRID_SIZE,r.SEC_GROUP_SIZE=r.ROW_COL_SEC_SIZE*r.GRID_SIZE,r.BOARD_SIZE=r.ROW_COL_SEC_SIZE*r.ROW_COL_SEC_SIZE,r.POSSIBILITY_SIZE=r.BOARD_SIZE*r.ROW_COL_SEC_SIZE,cr=r,cr}var Re=Oe();const he=Ie(Re),X=new he;X.setPrintStyle(0);X.setRecordHistory(!0);const V={Unknown:[],Easy:[],Medium:[],Hard:[],Diabolic:[]},Ir=["Unknown","Easy","Medium","Hard","Diabolic"];function Ze(r){if(V[r].length>0)return V[r].pop();let u=0;const v=V[r];for(;v.length<10;){X.generatePuzzleSymmetry(5);const O=X.getPuzzleString();X.solve();const y=X.getDifficulty(),T=Ir[y];if(V[T].length<100&&V[Ir[y]].push(O),u+=1,u>300)break}return v.pop()}function Ne(){for(;V.Easy.length<10||V.Medium.length<10||V.Hard.length<10||V.Diabolic.length<10;){X.generatePuzzleSymmetry(5);const r=X.getPuzzleString();X.solve();const u=X.getDifficulty();V[Ir[u]].push(r)}}function Te(r){const u=r.replace(/\s/g,"");if(u.length!==81)return null;const v=[];for(let O=0;O<9;O++){const y=[];for(let T=0;T<9;T++){const Z=u[O*9+T];y.push(Z==="."?0:parseInt(Z,10))}v.push(y)}return v}export{De as a,Te as b,ge as e,Ze as g,Le as i,Ne as p,ye as t};
