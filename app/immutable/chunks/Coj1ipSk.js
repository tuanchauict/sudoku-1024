var ee=Object.defineProperty;var te=(r,f,o)=>f in r?ee(r,f,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[f]=o;var Dr=(r,f,o)=>te(r,typeof f!="symbol"?f+"":f,o);import{a3 as ae,G as ie,at as Mr,L as cr,j as J,a4 as fe,k as ne,g as j,V as se,J as le,K as Zr,M as vr,Q as ir,ai as oe,N as Gr,O as br,P as ue,au as Sr,am as kr,ac as _e,C as Nr,av as Or,aw as Ar,ax as Rr,a0 as Ee,y as Tr,F as ce,ay as ve,az as Se,al as he,aA as Ie,aB as Oe,aC as Re,af as Ce,aD as Le,E as ge,aE as ye,aF as De,p as Ze,m as Ne,n as Ae,A as hr,aG as Te,o as Pe,q as pe,t as me}from"./D4frfRg2.js";import{b as de}from"./CdP8HIOC.js";import{c as We,a as sr,t as Me,n as wr}from"./DqXwdAxK.js";import"./BfK0U9aN.js";import{e as Ge}from"./DzLTvIni.js";import{p as be,i as Pr}from"./jNJZQ3UP.js";import{i as ke}from"./DQpucoam.js";import{o as we}from"./CxcJMqRD.js";function _t(r,f){return f}function He(r,f,o,l){for(var O=[],y=f.length,D=0;D<y;D++)Se(f[D].e,O,!0);var T=y>0&&O.length===0&&o!==null;if(T){var v=o.parentNode;he(v),v.append(o),l.clear(),$(r,f[0].prev,f[y-1].next)}Ie(O,()=>{for(var g=0;g<y;g++){var m=f[g];T||(l.delete(m.k),$(r,m.prev,m.next)),Oe(m.e,!T)}})}function Et(r,f,o,l,O,y=null){var D=r,T={flags:f,items:new Map,first:null},v=(f&Mr)!==0;if(v){var g=r;D=J?cr(fe(g)):g.appendChild(ae())}J&&ne();var m=null,z=!1,A=se(()=>{var I=o();return ce(I)?I:I==null?[]:kr(I)});ie(()=>{var I=j(A),R=I.length;if(z&&R===0)return;z=R===0;let H=!1;if(J){var E=D.data===le;E!==(R===0)&&(D=Zr(),cr(D),vr(!1),H=!0)}if(J){for(var k=null,M,G=0;G<R;G++){if(ir.nodeType===8&&ir.data===oe){D=ir,H=!0,vr(!1);break}var h=I[G],L=l(h,G);M=Hr(ir,T,k,null,h,L,G,O,f,o),T.items.set(L,M),k=M}R>0&&cr(Zr())}J||ze(I,T,D,O,f,l,o),y!==null&&(R===0?m?Gr(m):m=br(()=>y(D)):m!==null&&ue(m,()=>{m=null})),H&&vr(!0),j(A)}),J&&(D=ir)}function ze(r,f,o,l,O,y,D){var fr,nr,ar,x;var T=(O&ve)!==0,v=(O&(Or|Rr))!==0,g=r.length,m=f.items,z=f.first,A=z,I,R=null,H,E=[],k=[],M,G,h,L;if(T)for(L=0;L<g;L+=1)M=r[L],G=y(M,L),h=m.get(G),h!==void 0&&((fr=h.a)==null||fr.measure(),(H??(H=new Set)).add(h));for(L=0;L<g;L+=1){if(M=r[L],G=y(M,L),h=m.get(G),h===void 0){var V=A?A.e.nodes_start:o;R=Hr(V,f,R,R===null?f.first:R.next,M,G,L,l,O,D),m.set(G,R),E=[],k=[],A=R.next;continue}if(v&&Be(h,M,L,O),(h.e.f&Sr)!==0&&(Gr(h.e),T&&((nr=h.a)==null||nr.unfix(),(H??(H=new Set)).delete(h))),h!==A){if(I!==void 0&&I.has(h)){if(E.length<k.length){var P=k[0],W;R=P.prev;var er=E[0],U=E[E.length-1];for(W=0;W<E.length;W+=1)pr(E[W],P,o);for(W=0;W<k.length;W+=1)I.delete(k[W]);$(f,er.prev,U.next),$(f,R,er),$(f,U,P),A=P,R=U,L-=1,E=[],k=[]}else I.delete(h),pr(h,A,o),$(f,h.prev,h.next),$(f,h,R===null?f.first:R.next),$(f,R,h),R=h;continue}for(E=[],k=[];A!==null&&A.k!==G;)(A.e.f&Sr)===0&&(I??(I=new Set)).add(A),k.push(A),A=A.next;if(A===null)continue;h=A}E.push(h),R=h,A=h.next}if(A!==null||I!==void 0){for(var F=I===void 0?[]:kr(I);A!==null;)(A.e.f&Sr)===0&&F.push(A),A=A.next;var tr=F.length;if(tr>0){var lr=(O&Mr)!==0&&g===0?o:null;if(T){for(L=0;L<tr;L+=1)(ar=F[L].a)==null||ar.measure();for(L=0;L<tr;L+=1)(x=F[L].a)==null||x.fix()}He(f,F,lr,m)}}T&&_e(()=>{var q;if(H!==void 0)for(h of H)(q=h.a)==null||q.apply()}),Nr.first=f.first&&f.first.e,Nr.last=R&&R.e}function Be(r,f,o,l){(l&Or)!==0&&Ar(r.v,f),(l&Rr)!==0?Ar(r.i,o):r.i=o}function Hr(r,f,o,l,O,y,D,T,v,g){var m=(v&Or)!==0,z=(v&Re)===0,A=m?z?Ee(O):Tr(O):O,I=(v&Rr)===0?D:Tr(D),R={i:I,v:A,k:y,a:null,e:null,prev:o,next:l};try{return R.e=br(()=>T(r,A,I,g),J),R.e.prev=o&&o.e,R.e.next=l&&l.e,o===null?f.first=R:(o.next=R,o.e.next=R.e),l!==null&&(l.prev=R,l.e.prev=R.e),R}finally{}}function pr(r,f,o){for(var l=r.next?r.next.e.nodes_start:o,O=f?f.e.nodes_start:o,y=r.e.nodes_start;y!==l;){var D=Ce(y);O.before(y),y=D}}function $(r,f,o){f===null?r.first=o:(f.next=o,f.e.next=o&&o.e),o!==null&&(o.prev=f,o.e.prev=f&&f.e)}const mr=[...` 	
\r\fÂ \v\uFEFF`];function ct(r,f,o){var l=r==null?"":""+r;if(o){for(var O in o)if(o[O])l=l?l+" "+O:O;else if(l.length)for(var y=O.length,D=0;(D=l.indexOf(O,D))>=0;){var T=D+y;(D===0||mr.includes(l[D-1]))&&(T===l.length||mr.includes(l[T]))?l=(D===0?"":l.substring(0,D))+l.substring(T+1):D=T}}return l===""?null:l}function vt(r,f){return r==null?null:String(r)}const Ue=Symbol("is custom element"),qe=Symbol("is html");function Ke(r,f,o,l){var O=Ve(r);J&&(O[f]=r.getAttribute(f),f==="src"||f==="srcset"||f==="href"&&r.nodeName==="LINK")||O[f]!==(O[f]=o)&&(f==="loading"&&(r[De]=o),o==null?r.removeAttribute(f):typeof o!="string"&&Fe(r).includes(f)?r[f]=o:r.setAttribute(f,o))}function Ve(r){return r.__attributes??(r.__attributes={[Ue]:r.nodeName.includes("-"),[qe]:r.namespaceURI===Le})}var dr=new Map;function Fe(r){var f=dr.get(r.nodeName);if(f)return f;dr.set(r.nodeName,f=[]);for(var o,l=r,O=Element.prototype;O!==l;){o=ye(l);for(var y in o)o[y].set&&f.push(y);l=ge(l)}return f}function Xe(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}/*!
 * qqwing - Sudoku solver and generator
 * Copyright (C) 2014 Stephen Ostermiller
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along
 * with this program; if not, write to the Free Software Foundation, Inc.,
 * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
 */var Ir,Wr;function Ye(){if(Wr)return Ir;Wr=1;var r=function(){for(var f=function(e){return e%r.ROW_COL_SEC_SIZE},o=function(e){return Math.floor(e/r.ROW_COL_SEC_SIZE)},l=function(e){return Math.floor(e/r.SEC_GROUP_SIZE)*r.SEC_GROUP_SIZE+Math.floor(f(e)/r.GRID_SIZE)*r.GRID_SIZE},O=function(e){return Math.floor(e/r.SEC_GROUP_SIZE)*r.GRID_SIZE+Math.floor(f(e)/r.GRID_SIZE)},y=function(e){return r.ROW_COL_SEC_SIZE*e},D=function(e){return e},T=function(e){return e%r.GRID_SIZE*r.GRID_SIZE+Math.floor(e/r.GRID_SIZE)*r.SEC_GROUP_SIZE},v=function(e,t){return e+r.ROW_COL_SEC_SIZE*t},g=function(e,t){return e*r.ROW_COL_SEC_SIZE+t},m=function(e,t){return T(e)+Math.floor(t/r.GRID_SIZE)*r.ROW_COL_SEC_SIZE+t%r.GRID_SIZE},z=function(e){typeof console<"u"&&console.log&&console.log(e)},A=function(e){typeof process<"u"&&process.stdout&&process.stdout.write?process.stdout.write(e):z(e)},I=new Array(r.BOARD_SIZE),R=new Array(r.BOARD_SIZE),H=new Array(r.BOARD_SIZE),E=new Array(r.POSSIBILITY_SIZE),k=new Array(r.BOARD_SIZE),M=0;M<r.BOARD_SIZE;M++)k[M]=M;for(var G=new Array(r.ROW_COL_SEC_SIZE),M=0;M<r.ROW_COL_SEC_SIZE;M++)G[M]=M;var h=!1,L=!1,V=[],P=[],W=r.PrintStyle.READABLE,er=0,U=function(){for(var e=0;e<r.BOARD_SIZE;e++)R[e]=0;for(var e=0;e<r.BOARD_SIZE;e++)H[e]=0;for(var e=0;e<r.POSSIBILITY_SIZE;e++)E[e]=0;V=[],P=[];for(var t=1,i=0;i<r.BOARD_SIZE;i++)if(I[i]>0){var n=I[i]-1,s=v(n,i),u=I[i];if(E[s]!=0)return!1;rr.call(this,i,t,u),(L||h)&&b.call(this,new this.LogItem(t,r.LogType.GIVEN,u,i))}return!0},F=function(e){return!!(tr.call(this,e)||nr.call(this,e)||lr.call(this,e)||fr.call(this,e)||Jr.call(this,e)||Ur.call(this,e)||Vr.call(this,e)||qr.call(this,e)||Kr.call(this,e)||Fr.call(this,e)||Xr.call(this,e)||Yr.call(this,e))},tr=function(e){for(var t=0;t<r.BOARD_SIZE;t++)if(R[t]==0){for(var i=0,n=0,s=0;s<r.ROW_COL_SEC_SIZE;s++){var u=v(s,t);E[u]==0&&(i++,n=s+1)}if(i==1)return rr.call(this,t,e,n),(L||h)&&b.call(this,new this.LogItem(e,r.LogType.SINGLE,n,t)),!0}return!1},lr=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var n=0,s=0,u=0;u<r.ROW_COL_SEC_SIZE;u++){var a=t*r.ROW_COL_SEC_SIZE+u,_=v(i,a);E[_]==0&&(n++,s=a)}if(n==1){var c=i+1;return(L||h)&&b.call(this,new this.LogItem(e,r.LogType.HIDDEN_SINGLE_ROW,c,s)),rr.call(this,s,e,c),!0}}return!1},fr=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var n=0,s=0,u=0;u<r.ROW_COL_SEC_SIZE;u++){var a=g(u,t),_=v(i,a);E[_]==0&&(n++,s=a)}if(n==1){var c=i+1;return(L||h)&&b.call(this,new this.LogItem(e,r.LogType.HIDDEN_SINGLE_COLUMN,c,s)),rr.call(this,s,e,c),!0}}return!1},nr=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=T(t),n=0;n<r.ROW_COL_SEC_SIZE;n++){for(var s=0,u=0,a=0;a<r.GRID_SIZE;a++)for(var _=0;_<r.GRID_SIZE;_++){var c=i+a+r.ROW_COL_SEC_SIZE*_,C=v(n,c);E[C]==0&&(s++,u=c)}if(s==1){var S=n+1;return(L||h)&&b.call(this,new this.LogItem(e,r.LogType.HIDDEN_SINGLE_SECTION,S,u)),rr.call(this,u,e,S),!0}}return!1},ar=function(e,t){for(var i=0,n=Qr.call(this),s=0;s<r.ROW_COL_SEC_SIZE;s++){var u=G[s],a=v(u,n);if(E[a]==0){if(i==t){var _=u+1;return(L||h)&&b.call(this,new this.LogItem(e,r.LogType.GUESS,_,n)),rr.call(this,n,e,_),!0}i++}}return!1},x=function(){for(var e=0;e<r.BOARD_SIZE;e++)if(R[e]==0){for(var t=0,i=0;i<r.ROW_COL_SEC_SIZE;i++){var n=v(i,e);E[n]==0&&t++}if(t==0)return!0}return!1},q=function(e){(L||h)&&b.call(this,new this.LogItem(e,r.LogType.ROLLBACK));for(var t=0;t<r.BOARD_SIZE;t++)H[t]==e&&(H[t]=0,R[t]=0);for(var t=0;t<r.POSSIBILITY_SIZE;t++)E[t]==e&&(E[t]=0);for(;P.length>0&&P[P.length-1]==e;)P.pop()},Ur=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var n=T(i),s=!0,u=-1,a=0;a<r.GRID_SIZE;a++)for(var _=0;_<r.GRID_SIZE;_++){var c=n+_+r.ROW_COL_SEC_SIZE*a,C=v(t,c);E[C]==0&&(u==-1||u==a?u=a:s=!1)}if(s&&u!=-1){for(var S=!1,Z=o(n)+u,d=y(Z),_=0;_<r.ROW_COL_SEC_SIZE;_++){var p=d+_,N=O(p),C=v(t,p);i!=N&&E[C]==0&&(E[C]=e,S=!0)}if(S)return(L||h)&&b.call(this,new this.LogItem(e,r.LogType.POINTING_PAIR_TRIPLE_ROW,t+1,d)),!0}}return!1},qr=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var n=y(i),s=!0,u=-1,a=0;a<r.GRID_SIZE;a++)for(var _=0;_<r.GRID_SIZE;_++){var c=a*r.GRID_SIZE+_,C=g(i,c),S=v(t,C);E[S]==0&&(u==-1||u==a?u=a:s=!1)}if(s&&u!=-1){for(var Z=!1,c=r.GRID_SIZE*u,d=l(g(i,c)),p=o(d),N=f(d),a=0;a<r.GRID_SIZE;a++)for(var _=0;_<r.GRID_SIZE;_++){var B=p+a,K=N+_,C=g(B,K),S=v(t,C);i!=B&&E[S]==0&&(E[S]=e,Z=!0)}if(Z)return(L||h)&&b.call(this,new this.LogItem(e,r.LogType.ROW_BOX,t+1,n)),!0}}return!1},Kr=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var n=y(i),s=!0,u=-1,a=0;a<r.GRID_SIZE;a++)for(var _=0;_<r.GRID_SIZE;_++){var c=a*r.GRID_SIZE+_,C=g(i,c),S=v(t,C);E[S]==0&&(u==-1||u==a?u=a:s=!1)}if(s&&u!=-1){for(var Z=!1,c=r.GRID_SIZE*u,d=l(g(i,c)),p=o(d),N=f(d),a=0;a<r.GRID_SIZE;a++)for(var _=0;_<r.GRID_SIZE;_++){var B=p+a,K=N+_,C=g(B,K),S=v(t,C);i!=B&&E[S]==0&&(E[S]=e,Z=!0)}if(Z)return(L||h)&&b.call(this,new this.LogItem(e,r.LogType.ROW_BOX,t+1,n)),!0}}return!1},Vr=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var n=T(i),s=!0,u=-1,a=0;a<r.GRID_SIZE;a++)for(var _=0;_<r.GRID_SIZE;_++){var c=n+a+r.ROW_COL_SEC_SIZE*_,C=v(t,c);E[C]==0&&(u==-1||u==a?u=a:s=!1)}if(s&&u!=-1){for(var S=!1,Z=f(n)+u,d=D(Z),a=0;a<r.ROW_COL_SEC_SIZE;a++){var p=d+r.ROW_COL_SEC_SIZE*a,N=O(p),C=v(t,p);i!=N&&E[C]==0&&(E[C]=e,S=!0)}if(S)return(L||h)&&b.call(this,new this.LogItem(e,r.LogType.POINTING_PAIR_TRIPLE_COLUMN,t+1,d)),!0}}return!1},Fr=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var n=-1,s=-1,u=0,a=0;a<r.ROW_COL_SEC_SIZE;a++){var _=g(t,a),c=v(i,_);E[c]==0&&(n==-1||n==a?n=a:(s==-1||s==a)&&(s=a),u++)}if(u==2)for(var C=i+1;C<r.ROW_COL_SEC_SIZE;C++){for(var S=-1,Z=-1,d=0,a=0;a<r.ROW_COL_SEC_SIZE;a++){var _=g(t,a),c=v(C,_);E[c]==0&&(S==-1||S==a?S=a:(Z==-1||Z==a)&&(Z=a),d++)}if(d==2&&n==S&&s==Z){for(var p=!1,N=0;N<r.ROW_COL_SEC_SIZE;N++)if(N!=i&&N!=C){var B=g(t,n),K=g(t,s),X=v(N,B),Y=v(N,K);E[X]==0&&(E[X]=e,p=!0),E[Y]==0&&(E[Y]=e,p=!0)}if(p)return(L||h)&&b.call(this,new this.LogItem(e,r.LogType.HIDDEN_PAIR_ROW,i+1,g(t,n))),!0}}}return!1},Xr=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var n=-1,s=-1,u=0,a=0;a<r.ROW_COL_SEC_SIZE;a++){var _=g(a,t),c=v(i,_);E[c]==0&&(n==-1||n==a?n=a:(s==-1||s==a)&&(s=a),u++)}if(u==2)for(var C=i+1;C<r.ROW_COL_SEC_SIZE;C++){for(var S=-1,Z=-1,d=0,a=0;a<r.ROW_COL_SEC_SIZE;a++){var _=g(a,t),c=v(C,_);E[c]==0&&(S==-1||S==a?S=a:(Z==-1||Z==a)&&(Z=a),d++)}if(d==2&&n==S&&s==Z){for(var p=!1,N=0;N<r.ROW_COL_SEC_SIZE;N++)if(N!=i&&N!=C){var B=g(n,t),K=g(s,t),X=v(N,B),Y=v(N,K);E[X]==0&&(E[X]=e,p=!0),E[Y]==0&&(E[Y]=e,p=!0)}if(p)return(L||h)&&b.call(this,new this.LogItem(e,r.LogType.HIDDEN_PAIR_COLUMN,i+1,g(n,t))),!0}}}return!1},Yr=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var n=-1,s=-1,u=0,a=0;a<r.ROW_COL_SEC_SIZE;a++){var _=m(t,a),c=v(i,_);E[c]==0&&(n==-1||n==a?n=a:(s==-1||s==a)&&(s=a),u++)}if(u==2)for(var C=i+1;C<r.ROW_COL_SEC_SIZE;C++){for(var S=-1,Z=-1,d=0,a=0;a<r.ROW_COL_SEC_SIZE;a++){var _=m(t,a),c=v(C,_);E[c]==0&&(S==-1||S==a?S=a:(Z==-1||Z==a)&&(Z=a),d++)}if(d==2&&n==S&&s==Z){for(var p=!1,N=0;N<r.ROW_COL_SEC_SIZE;N++)if(N!=i&&N!=C){var B=m(t,n),K=m(t,s),X=v(N,B),Y=v(N,K);E[X]==0&&(E[X]=e,p=!0),E[Y]==0&&(E[Y]=e,p=!0)}if(p)return(L||h)&&b.call(this,new this.LogItem(e,r.LogType.HIDDEN_PAIR_SECTION,i+1,m(t,n))),!0}}}return!1},rr=function(e,t,i){if(R[e]!=0)throw"Marking position that already has been marked.";if(H[e]!=0)throw"Marking position that was marked another round.";var n=i-1;R[e]=i;var s=v(n,e);if(E[s]!=0)throw"Marking impossible position.";H[e]=t;for(var u=o(e)*r.ROW_COL_SEC_SIZE,a=0;a<r.ROW_COL_SEC_SIZE;a++){var _=u+a,c=v(n,_);E[c]==0&&(E[c]=t)}for(var C=f(e),S=0;S<r.ROW_COL_SEC_SIZE;S++){var Z=C+r.ROW_COL_SEC_SIZE*S,c=v(n,Z);E[c]==0&&(E[c]=t)}for(var d=l(e),S=0;S<r.GRID_SIZE;S++)for(var p=0;p<r.GRID_SIZE;p++){var N=d+S+r.ROW_COL_SEC_SIZE*p,c=v(n,N);E[c]==0&&(E[c]=t)}for(var n=0;n<r.ROW_COL_SEC_SIZE;n++){var c=v(n,e);E[c]==0&&(E[c]=t)}},Qr=function(){for(var e=10,t=0,i=0;i<r.BOARD_SIZE;i++){var n=k[i];if(R[n]==0){for(var s=0,u=0;u<r.ROW_COL_SEC_SIZE;u++){var a=v(u,n);E[a]==0&&s++}s<e&&(e=s,t=n)}}return t},Jr=function(e){for(var t=0;t<r.BOARD_SIZE;t++){var i=Cr(t);if(i==2){for(var n=o(t),s=f(t),u=l(t),a=t;a<r.BOARD_SIZE;a++)if(t!=a){var _=Cr(a);if(_==2&&$r(t,a)){if(n==o(a)){for(var c=!1,C=0;C<r.ROW_COL_SEC_SIZE;C++){var S=g(n,C);S!=t&&S!=a&&Er(t,S,e)&&(c=!0)}if(c)return(L||h)&&b.call(this,new this.LogItem(e,r.LogType.NAKED_PAIR_ROW,0,t)),!0}if(s==f(a)){for(var c=!1,Z=0;Z<r.ROW_COL_SEC_SIZE;Z++){var S=g(Z,s);S!=t&&S!=a&&Er(t,S,e)&&(c=!0)}if(c)return(L||h)&&b.call(this,new this.LogItem(e,r.LogType.NAKED_PAIR_COLUMN,0,t)),!0}if(u==l(a)){for(var c=!1,d=l(t),p=0;p<r.GRID_SIZE;p++)for(var N=0;N<r.GRID_SIZE;N++){var S=d+p+r.ROW_COL_SEC_SIZE*N;S!=t&&S!=a&&Er(t,S,e)&&(c=!0)}if(c)return(L||h)&&b.call(this,new this.LogItem(e,r.LogType.NAKED_PAIR_SECTION,0,t)),!0}}}}}return!1},Cr=function(e){for(var t=0,i=0;i<r.ROW_COL_SEC_SIZE;i++){var n=v(i,e);E[n]==0&&t++}return t},$r=function(e,t){for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){var n=v(i,e),s=v(i,t);if((E[n]==0||E[s]==0)&&(E[n]!=0||E[s]!=0))return!1}return!0},b=function(e){L&&e.print(),h&&(V.push(e),P.push(e))},or=function(){yr(k,r.BOARD_SIZE),yr(G,r.ROW_COL_SEC_SIZE)},Lr=function(e){A(ur.call(this,e))},ur=function(e){for(var t="",i=0;i<r.BOARD_SIZE;i++)W==r.PrintStyle.READABLE&&(t+=" "),e[i]==0?t+=".":t+=e[i],i==r.BOARD_SIZE-1?(W==r.PrintStyle.CSV?t+=",":t+=`
`,(W==r.PrintStyle.READABLE||W==r.PrintStyle.COMPACT)&&(t+=`
`)):i%r.ROW_COL_SEC_SIZE==r.ROW_COL_SEC_SIZE-1?((W==r.PrintStyle.READABLE||W==r.PrintStyle.COMPACT)&&(t+=`
`),i%r.SEC_GROUP_SIZE==r.SEC_GROUP_SIZE-1&&W==r.PrintStyle.READABLE&&(t+=`-------|-------|-------
`)):i%r.GRID_SIZE==r.GRID_SIZE-1&&W==r.PrintStyle.READABLE&&(t+=" |");return t},jr=function(){for(var e=2;e<=er;e+=2)q.call(this,e)},xr=function(){for(var e=0;e<r.BOARD_SIZE;e++)I[e]=0;U.call(this)},gr=function(e){A(_r(e))},_r=function(e){var t="";h||(t+="History was not recorded.",W==r.PrintStyle.CSV?t+=" -- ":t+=`
`);for(var i=0;i<e.length;i++)t+=i+1+". "+e[i].toString(),W==r.PrintStyle.CSV?t+=" -- ":t+=`
`;return W==r.PrintStyle.CSV?t+=",":t+=`
`,t},Er=function(e,t,i){for(var n=!1,s=0;s<r.ROW_COL_SEC_SIZE;s++){var u=v(s,e),a=v(s,t);E[u]==0&&E[a]==0&&(E[a]=i,n=!0)}return n},yr=function(e,t){for(var i=0;i<t;i++){var n=t-i,s=Math.floor(Math.random()*n)+i,u=e[i];e[i]=e[s],e[s]=u}},re=function(){var e=Math.floor(Math.random()*4);switch(e){case 0:return r.Symmetry.ROTATE90;case 1:return r.Symmetry.ROTATE180;case 2:return r.Symmetry.MIRROR;case 3:return r.Symmetry.FLIP}throw"Unexpected random value: "+e},w=function(e,t){for(var i=0,n=0;n<e.length;n++)e[n].getType()==t&&i++;return i};this.LogItem=function(e,t,i,n){var s=e,u=t,a=i,_=n;this.getRound=function(){return s},this.print=function(){z(this.toString())},this.getType=function(){return u},this.getColumn=function(){return _==-1?-1:f(_)},this.getRow=function(){return _==-1?-1:o(_)},this.getPosition=function(){return _},this.getValue=function(){return a},this.getDescription=function(){switch(this.getType()){case r.LogType.GIVEN:return"Mark given";case r.LogType.ROLLBACK:return"Roll back round";case r.LogType.GUESS:return"Mark guess (start round)";case r.LogType.HIDDEN_SINGLE_ROW:return"Mark single possibility for value in row";case r.LogType.HIDDEN_SINGLE_COLUMN:return"Mark single possibility for value in column";case r.LogType.HIDDEN_SINGLE_SECTION:return"Mark single possibility for value in section";case r.LogType.SINGLE:return"Mark only possibility for cell";case r.LogType.NAKED_PAIR_ROW:return"Remove possibilities for naked pair in row";case r.LogType.NAKED_PAIR_COLUMN:return"Remove possibilities for naked pair in column";case r.LogType.NAKED_PAIR_SECTION:return"Remove possibilities for naked pair in section";case r.LogType.POINTING_PAIR_TRIPLE_ROW:return"Remove possibilities for row because all values are in one section";case r.LogType.POINTING_PAIR_TRIPLE_COLUMN:return"Remove possibilities for column because all values are in one section";case r.LogType.ROW_BOX:return"Remove possibilities for section because all values are in one row";case r.LogType.COLUMN_BOX:return"Remove possibilities for section because all values are in one column";case r.LogType.HIDDEN_PAIR_ROW:return"Remove possibilities from hidden pair in row";case r.LogType.HIDDEN_PAIR_COLUMN:return"Remove possibilities from hidden pair in column";case r.LogType.HIDDEN_PAIR_SECTION:return"Remove possibilities from hidden pair in section";default:return"!!! Performed unknown optimization !!!"}},this.toString=function(){var c="Round: "+this.getRound()+" - ";if(c+=this.getDescription(),a>0||_>-1){c+=" (";var C=!1;_>-1&&(C&&(c+=" - "),c+="Row: "+(o(_)+1)+" - Column: "+(f(_)+1),C=!0),a>0&&(C&&(c+=" - "),c+="Value: "+a,C=!0),c+=")"}return c}},this.setPuzzle=function(e){for(var t=0;t<r.BOARD_SIZE;t++)I[t]=e[t];return U.call(this)},this.printPuzzle=function(){return Lr.call(this,I)},this.getPuzzleString=function(){return ur.call(this,I)},this.printSolution=function(){return Lr.call(this,R)},this.getSolutionString=function(){return ur.call(this,R)},this.solve=function(e){if(!e||e<=1)return U.call(this),or(),this.solve(2);for(er=e;F.call(this,e);){if(this.isSolved())return!0;if(x.call(this))return!1}for(var t=e+1,i=e+2,n=0;ar.call(this,t,n);n++)if(x.call(this)||!this.solve(i))q.call(this,i),q.call(this,t);else return!0;return!1},this.countSolutions=function(e,t){if(!e||e<=1){var i=h;this.setRecordHistory(!1);var n=L;this.setLogHistory(!1),U.call(this);var s=this.countSolutions(2,!1);return this.setRecordHistory(i),this.setLogHistory(n),s}else{for(;F.call(this,e);){if(this.isSolved())return q.call(this,e),1;if(x.call(this))return q.call(this,e),0}for(var u=0,a=e+1,_=0;ar.call(this,a,_);_++)if(u+=this.countSolutions(a,t),t&&u>=2)return q.call(this,e),u;return q.call(this,e),u}},this.isSolved=function(){for(var e=0;e<r.BOARD_SIZE;e++)if(R[e]==0)return!1;return!0},this.getSolveHistory=function(){return this.isSolved()?V:"No solve history - Puzzle is not possible to solve."},this.getSolveHistoryString=function(){return this.isSolved()?_r.call(this,V):"No solve history - Puzzle is not possible to solve."},this.printSolveHistory=function(){this.isSolved()?gr(V):z("No solve history - Puzzle is not possible to solve.")},this.setRecordHistory=function(e){h=e},this.setLogHistory=function(e){L=e},this.setPrintStyle=function(e){W=e},this.generatePuzzle=function(){return this.generatePuzzleSymmetry(r.Symmetry.NONE)},this.generatePuzzleSymmetry=function(e){e==r.Symmetry.RANDOM&&(e=re.call(this));var t=h;this.setRecordHistory(!1);var i=L;this.setLogHistory(!1),xr.call(this),or.call(this),this.solve(),e==r.Symmetry.NONE&&jr.call(this);for(var n=0;n<r.BOARD_SIZE;n++)I[n]=R[n];or.call(this);for(var n=0;n<r.BOARD_SIZE;n++){var s=k[n];if(I[s]>0){var u=-1,a=-1,_=-1;switch(e){case r.Symmetry.ROTATE90:a=g(r.ROW_COL_SEC_SIZE-1-f(s),o(s)),_=g(f(s),r.ROW_COL_SEC_SIZE-1-o(s));case r.Symmetry.ROTATE180:u=g(r.ROW_COL_SEC_SIZE-1-o(s),r.ROW_COL_SEC_SIZE-1-f(s));break;case r.Symmetry.MIRROR:u=g(o(s),r.ROW_COL_SEC_SIZE-1-f(s));break;case r.Symmetry.FLIP:u=g(r.ROW_COL_SEC_SIZE-1-o(s),f(s));break}var c=I[s];I[s]=0;var C=0;u>=0&&(C=I[u],I[u]=0);var S=0;a>=0&&(S=I[a],I[a]=0);var Z=0;_>=0&&(Z=I[_],I[_]=0),U.call(this),this.countSolutions(2,!0)>1&&(I[s]=c,u>=0&&C!=0&&(I[u]=C),a>=0&&S!=0&&(I[a]=S),_>=0&&Z!=0&&(I[_]=Z))}}return U.call(this),this.setRecordHistory(t),this.setLogHistory(i),!0},this.getGivenCount=function(){for(var e=0,t=0;t<r.BOARD_SIZE;t++)I[t]!=0&&e++;return e},this.getSingleCount=function(){return w.call(this,P,r.LogType.SINGLE)},this.getHiddenSingleCount=function(){return w.call(this,P,r.LogType.HIDDEN_SINGLE_ROW)+w.call(this,P,r.LogType.HIDDEN_SINGLE_COLUMN)+w.call(this,P,r.LogType.HIDDEN_SINGLE_SECTION)},this.getNakedPairCount=function(){return w.call(this,P,r.LogType.NAKED_PAIR_ROW)+w.call(this,P,r.LogType.NAKED_PAIR_COLUMN)+w.call(this,P,r.LogType.NAKED_PAIR_SECTION)},this.getHiddenPairCount=function(){return w.call(this,P,r.LogType.HIDDEN_PAIR_ROW)+w.call(this,P,r.LogType.HIDDEN_PAIR_COLUMN)+w.call(this,P,r.LogType.HIDDEN_PAIR_SECTION)},this.getBoxLineReductionCount=function(){return w.call(this,P,r.LogType.ROW_BOX)+w.call(this,P,r.LogType.COLUMN_BOX)},this.getPointingPairTripleCount=function(){return w.call(this,P,r.LogType.POINTING_PAIR_TRIPLE_ROW)+w.call(this,P,r.LogType.POINTING_PAIR_TRIPLE_COLUMN)},this.getGuessCount=function(){return w.call(this,P,r.LogType.GUESS)},this.getBacktrackCount=function(){return w.call(this,V,r.LogType.ROLLBACK)},this.getSolveInstructions=function(){return this.isSolved()?P:"No solve instructions - Puzzle is not possible to solve."},this.getSolveInstructionsString=function(){return this.isSolved()?_r.call(this,P):"No solve instructions - Puzzle is not possible to solve."},this.printSolveInstructions=function(){this.isSolved()?gr(P):z("No solve instructions - Puzzle is not possible to solve.")},this.getDifficulty=function(){return this.getGuessCount()>0?r.Difficulty.EXPERT:this.getBoxLineReductionCount()>0||this.getPointingPairTripleCount()>0||this.getHiddenPairCount()>0||this.getNakedPairCount()>0?r.Difficulty.INTERMEDIATE:this.getHiddenSingleCount()>0?r.Difficulty.EASY:this.getSingleCount()>0?r.Difficulty.SIMPLE:r.Difficulty.UNKNOWN},this.getDifficultyAsString=function(){var e=this.getDifficulty();switch(e){case r.Difficulty.EXPERT:return"Expert";case r.Difficulty.INTERMEDIATE:return"Intermediate";case r.Difficulty.EASY:return"Easy";case r.Difficulty.SIMPLE:return"Simple";default:return"Unknown"}}};return r.PrintStyle={ONE_LINE:0,COMPACT:1,READABLE:2,CSV:3},r.Difficulty={UNKNOWN:0,SIMPLE:1,EASY:2,INTERMEDIATE:3,EXPERT:4},r.Symmetry={NONE:0,ROTATE90:1,ROTATE180:2,MIRROR:3,FLIP:4,RANDOM:5},r.LogType={GIVEN:0,SINGLE:1,HIDDEN_SINGLE_ROW:2,HIDDEN_SINGLE_COLUMN:3,HIDDEN_SINGLE_SECTION:4,GUESS:5,ROLLBACK:6,NAKED_PAIR_ROW:7,NAKED_PAIR_COLUMN:8,NAKED_PAIR_SECTION:9,POINTING_PAIR_TRIPLE_ROW:10,POINTING_PAIR_TRIPLE_COLUMN:11,ROW_BOX:12,COLUMN_BOX:13,HIDDEN_PAIR_ROW:14,HIDDEN_PAIR_COLUMN:15,HIDDEN_PAIR_SECTION:16},r.GRID_SIZE=3,r.ROW_COL_SEC_SIZE=r.GRID_SIZE*r.GRID_SIZE,r.SEC_GROUP_SIZE=r.ROW_COL_SEC_SIZE*r.GRID_SIZE,r.BOARD_SIZE=r.ROW_COL_SEC_SIZE*r.ROW_COL_SEC_SIZE,r.POSSIBILITY_SIZE=r.BOARD_SIZE*r.ROW_COL_SEC_SIZE,Ir=r,Ir}var Qe=Ye();const Je=Xe(Qe),zr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function $e(r){if(r.length!==81)throw new Error("Input array must have exactly 81 numbers");if(!r.every(l=>l>=0&&l<=9))return console.error("All numbers must be between 0 and 9",r),"";let f="";for(let l=0;l<r.length;l+=3){const O=l<r.length?r[l]:0,y=l+1<r.length?r[l+1]:0,D=l+2<r.length?r[l+2]:0,v=(O*100+y*10+D).toString(2).padStart(10,"0");f+=v}let o="";for(let l=0;l<f.length;l+=6){const O=f.substring(l,l+6).padEnd(6,"0"),y=parseInt(O,2);o+=zr[y]}return o}function St(r){let f="";for(const l of r){const O=zr.indexOf(l);if(O===-1)return console.error(`Invalid base64 URL character: ${l}`),null;f+=O.toString(2).padStart(6,"0")}const o=[];for(let l=0;l<f.length&&!(l+10>f.length);l+=10){const O=f.substring(l,l+10),y=parseInt(O,2),D=Math.floor(y/100),T=Math.floor(y%100/10),v=y%10;if(o.push(D,T,v),o.length>=81)break}return o.slice(0,81)}const Q=[[],[],[],[],[]];class je{constructor(){Dr(this,"qq",new Je);this.qq.setPrintStyle(0),this.qq.setRecordHistory(!0)}generateBoardString(f){if(Q[f].length>0)return Q[f].pop();let o=0;const l=Q[f];for(;l.length<10;){const[O,y]=this.generatePuzzle();if(Q[O].length<100&&Q[O].push(y),o+=1,o>300)break}return l.pop()}generatePuzzle(){this.qq.generatePuzzleSymmetry(5);const f=this.qq.getPuzzleString();return this.qq.solve(),[this.qq.getDifficulty(),this.standardizePuzzle(f.trim())]}standardizePuzzle(f){const o=".123456789",l=[];for(const O of f){let y=o.indexOf(O);y===-1&&(y=0),l.push(y)}return $e(l)}prepare(){for(let f=0;f<4;f++){const[o,l]=this.generatePuzzle();Q[o].length<100&&Q[o].push(l)}}}const Br=new je;Br.prepare();setInterval(()=>{Q.some(r=>r.length<10)&&Br.prepare()},1e3);function ht(r,f){const o=Array(9).fill(null).map(()=>Array(9).fill(null).map(()=>Array(9).fill(!1)));return{level:r,initialBoard:f,board:f,notes:o,selectedCell:{row:-1,col:-1}}}const It=[{id:0,name:"Random",color:"#6b7280",gradient:"linear-gradient(135deg, #6b7280, #4b5563)",icon:"â"},{id:1,name:"Easy",color:"#4ade80",gradient:"linear-gradient(135deg, #4ade80, #22c55e)",icon:"â­"},{id:2,name:"Medium",color:"#60a5fa",gradient:"linear-gradient(135deg, #60a5fa, #3b82f6)",icon:"â­â­"},{id:3,name:"Hard",color:"#f97316",gradient:"linear-gradient(135deg, #f97316, #ea580c)",icon:"â­â­â­"},{id:4,name:"Diabolic",color:"#ef4444",gradient:"linear-gradient(135deg, #ef4444, #dc2626)",icon:"â­â­â­â­"}];function Ot(r){return`${de}${r}`}var xe=wr('<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>'),rt=wr('<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>'),et=Me('<button class="theme-toggle svelte-1w0kfwf"><!></button>');function Rt(r,f){Ze(f,!1);let o=be(f,"isVisible",8,!1),l=Te(!1);function O(){hr(l,!j(l)),j(l)?(document.documentElement.classList.add("dark-mode"),localStorage.setItem("darkMode","enabled")):(document.documentElement.classList.remove("dark-mode"),localStorage.setItem("darkMode","disabled"))}we(()=>{const v=localStorage.getItem("darkMode"),g=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;(v==="enabled"||v===null&&g)&&(hr(l,!0),document.documentElement.classList.add("dark-mode")),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",m=>{localStorage.getItem("darkMode")===null&&(hr(l,m.matches),document.documentElement.classList.toggle("dark-mode",j(l)))})}),ke();var y=We(),D=Ne(y);{var T=v=>{var g=et(),m=Pe(g);{var z=I=>{var R=xe();sr(I,R)},A=I=>{var R=rt();sr(I,R)};Pr(m,I=>{j(l)?I(z):I(A,!1)})}pe(g),me(()=>Ke(g,"aria-label",j(l)?"Switch to Light Mode":"Switch to Dark Mode")),Ge("click",g,O),sr(v,g)};Pr(D,v=>{o()&&v(T)})}sr(r,y),Ae()}export{Rt as D,It as L,Ot as a,ct as b,$e as c,St as d,Et as e,ht as f,Br as g,_t as i,Ke as s,vt as t};
