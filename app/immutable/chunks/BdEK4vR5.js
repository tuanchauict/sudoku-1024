var Jr=Object.defineProperty;var $r=(r,s,E)=>s in r?Jr(r,s,{enumerable:!0,configurable:!0,writable:!0,value:E}):r[s]=E;var Lr=(r,s,E)=>$r(r,typeof s!="symbol"?s+"":s,E);import{ak as jr,j as xr,ao as Wr,P as Er,o as $,ab as re,L as ee,g as gr,X as te,N as ae,O as Dr,Q as vr,p as ar,ae as ie,R as pr,k as Gr,T as fe,ap as or,ai as Mr,a8 as ne,H as yr,aq as cr,ar as Zr,as as Ir,a2 as se,C as Nr,K as le,at as _e,au as ue,ah as Ee,av as ve,m as oe,aw as Se,ac as ce}from"./DYrX2ids.js";function Ae(r,s){return s}function Ie(r,s,E,_){for(var L=[],g=s.length,y=0;y<g;y++)ue(s[y].e,L,!0);var W=g>0&&L.length===0&&E!==null;if(W){var c=E.parentNode;Ee(c),c.append(E),_.clear(),J(r,s[0].prev,s[g-1].next)}ve(L,()=>{for(var D=0;D<g;D++){var p=s[D];W||(_.delete(p.k),J(r,p.prev,p.next)),oe(p.e,!W)}})}function Pe(r,s,E,_,L,g=null){var y=r,W={flags:s,items:new Map,first:null},c=(s&Wr)!==0;if(c){var D=r;y=$?Er(re(D)):D.appendChild(jr())}$&&ee();var p=null,U=!1,T=te(()=>{var C=E();return le(C)?C:C==null?[]:Mr(C)});xr(()=>{var C=gr(T),R=C.length;if(U&&R===0)return;U=R===0;let k=!1;if($){var v=y.data===ae;v!==(R===0)&&(y=Dr(),Er(y),vr(!1),k=!0)}if($){for(var z=null,m,H=0;H<R;H++){if(ar.nodeType===8&&ar.data===ie){y=ar,k=!0,vr(!1);break}var I=C[H],h=_(I,H);m=mr(ar,W,z,null,I,h,H,L,s,E),W.items.set(h,m),z=m}R>0&&Er(Dr())}$||Oe(C,W,y,L,s,_,E),g!==null&&(R===0?p?pr(p):p=Gr(()=>g(y)):p!==null&&fe(p,()=>{p=null})),k&&vr(!0),gr(T)}),$&&(y=ar)}function Oe(r,s,E,_,L,g,y){var ir,fr,tr,j;var W=(L&_e)!==0,c=(L&(cr|Ir))!==0,D=r.length,p=s.items,U=s.first,T=U,C,R=null,k,v=[],z=[],m,H,I,h;if(W)for(h=0;h<D;h+=1)m=r[h],H=g(m,h),I=p.get(H),I!==void 0&&((ir=I.a)==null||ir.measure(),(k??(k=new Set)).add(I));for(h=0;h<D;h+=1){if(m=r[h],H=g(m,h),I=p.get(H),I===void 0){var X=T?T.e.nodes_start:E;R=mr(X,s,R,R===null?s.first:R.next,m,H,h,_,L,y),p.set(H,R),v=[],z=[],T=R.next;continue}if(c&&he(I,m,h,L),(I.e.f&or)!==0&&(pr(I.e),W&&((fr=I.a)==null||fr.unfix(),(k??(k=new Set)).delete(I))),I!==T){if(C!==void 0&&C.has(I)){if(v.length<z.length){var A=z[0],M;R=A.prev;var rr=v[0],d=v[v.length-1];for(M=0;M<v.length;M+=1)Tr(v[M],A,E);for(M=0;M<z.length;M+=1)C.delete(z[M]);J(s,rr.prev,d.next),J(s,R,rr),J(s,d,A),T=A,R=d,h-=1,v=[],z=[]}else C.delete(I),Tr(I,T,E),J(s,I.prev,I.next),J(s,I,R===null?s.first:R.next),J(s,R,I),R=I;continue}for(v=[],z=[];T!==null&&T.k!==H;)(T.e.f&or)===0&&(C??(C=new Set)).add(T),z.push(T),T=T.next;if(T===null)continue;I=T}v.push(I),R=I,T=I.next}if(T!==null||C!==void 0){for(var F=C===void 0?[]:Mr(C);T!==null;)(T.e.f&or)===0&&F.push(T),T=T.next;var er=F.length;if(er>0){var nr=(L&Wr)!==0&&D===0?E:null;if(W){for(h=0;h<er;h+=1)(tr=F[h].a)==null||tr.measure();for(h=0;h<er;h+=1)(j=F[h].a)==null||j.fix()}Ie(s,F,nr,p)}}W&&ne(()=>{var K;if(k!==void 0)for(I of k)(K=I.a)==null||K.apply()}),yr.first=s.first&&s.first.e,yr.last=R&&R.e}function he(r,s,E,_){(_&cr)!==0&&Zr(r.v,s),(_&Ir)!==0?Zr(r.i,E):r.i=E}function mr(r,s,E,_,L,g,y,W,c,D){var p=(c&cr)!==0,U=(c&Se)===0,T=p?U?se(L):Nr(L):L,C=(c&Ir)===0?y:Nr(y),R={i:C,v:T,k:g,a:null,e:null,prev:E,next:_};try{return R.e=Gr(()=>W(r,T,C,D),$),R.e.prev=E&&E.e,R.e.next=_&&_.e,E===null?s.first=R:(E.next=R,E.e.next=R.e),_!==null&&(_.prev=R,_.e.prev=R.e),R}finally{}}function Tr(r,s,E){for(var _=r.next?r.next.e.nodes_start:E,L=s?s.e.nodes_start:E,g=r.e.nodes_start;g!==_;){var y=ce(g);L.before(g),g=y}}function J(r,s,E){s===null?r.first=E:(s.next=E,s.e.next=E&&E.e),E!==null&&(E.prev=s,E.e.prev=s&&s.e)}const Ar=[...` 	
\r\fÂ \v\uFEFF`];function We(r,s,E){var _=r==null?"":""+r;if(E){for(var L in E)if(E[L])_=_?_+" "+L:L;else if(_.length)for(var g=L.length,y=0;(y=_.indexOf(L,y))>=0;){var W=y+g;(y===0||Ar.includes(_[y-1]))&&(W===_.length||Ar.includes(_[W]))?_=(y===0?"":_.substring(0,y))+_.substring(W+1):y=W}}return _===""?null:_}function pe(r,s){return r==null?null:String(r)}function Re(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}/*!
 * qqwing - Sudoku solver and generator
 * Copyright (C) 2014 Stephen Ostermiller
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along
 * with this program; if not, write to the Free Software Foundation, Inc.,
 * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
 */var Sr,Pr;function Ce(){if(Pr)return Sr;Pr=1;var r=function(){for(var s=function(e){return e%r.ROW_COL_SEC_SIZE},E=function(e){return Math.floor(e/r.ROW_COL_SEC_SIZE)},_=function(e){return Math.floor(e/r.SEC_GROUP_SIZE)*r.SEC_GROUP_SIZE+Math.floor(s(e)/r.GRID_SIZE)*r.GRID_SIZE},L=function(e){return Math.floor(e/r.SEC_GROUP_SIZE)*r.GRID_SIZE+Math.floor(s(e)/r.GRID_SIZE)},g=function(e){return r.ROW_COL_SEC_SIZE*e},y=function(e){return e},W=function(e){return e%r.GRID_SIZE*r.GRID_SIZE+Math.floor(e/r.GRID_SIZE)*r.SEC_GROUP_SIZE},c=function(e,t){return e+r.ROW_COL_SEC_SIZE*t},D=function(e,t){return e*r.ROW_COL_SEC_SIZE+t},p=function(e,t){return W(e)+Math.floor(t/r.GRID_SIZE)*r.ROW_COL_SEC_SIZE+t%r.GRID_SIZE},U=function(e){typeof console<"u"&&console.log&&console.log(e)},T=function(e){typeof process<"u"&&process.stdout&&process.stdout.write?process.stdout.write(e):U(e)},C=new Array(r.BOARD_SIZE),R=new Array(r.BOARD_SIZE),k=new Array(r.BOARD_SIZE),v=new Array(r.POSSIBILITY_SIZE),z=new Array(r.BOARD_SIZE),m=0;m<r.BOARD_SIZE;m++)z[m]=m;for(var H=new Array(r.ROW_COL_SEC_SIZE),m=0;m<r.ROW_COL_SEC_SIZE;m++)H[m]=m;var I=!1,h=!1,X=[],A=[],M=r.PrintStyle.READABLE,rr=0,d=function(){for(var e=0;e<r.BOARD_SIZE;e++)R[e]=0;for(var e=0;e<r.BOARD_SIZE;e++)k[e]=0;for(var e=0;e<r.POSSIBILITY_SIZE;e++)v[e]=0;X=[],A=[];for(var t=1,i=0;i<r.BOARD_SIZE;i++)if(C[i]>0){var f=C[i]-1,n=c(f,i),l=C[i];if(v[n]!=0)return!1;x.call(this,i,t,l),(h||I)&&b.call(this,new this.LogItem(t,r.LogType.GIVEN,l,i))}return!0},F=function(e){return!!(er.call(this,e)||fr.call(this,e)||nr.call(this,e)||ir.call(this,e)||Vr.call(this,e)||zr.call(this,e)||Ur.call(this,e)||Br.call(this,e)||kr.call(this,e)||wr.call(this,e)||qr.call(this,e)||dr.call(this,e))},er=function(e){for(var t=0;t<r.BOARD_SIZE;t++)if(R[t]==0){for(var i=0,f=0,n=0;n<r.ROW_COL_SEC_SIZE;n++){var l=c(n,t);v[l]==0&&(i++,f=n+1)}if(i==1)return x.call(this,t,e,f),(h||I)&&b.call(this,new this.LogItem(e,r.LogType.SINGLE,f,t)),!0}return!1},nr=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var f=0,n=0,l=0;l<r.ROW_COL_SEC_SIZE;l++){var a=t*r.ROW_COL_SEC_SIZE+l,u=c(i,a);v[u]==0&&(f++,n=a)}if(f==1){var o=i+1;return(h||I)&&b.call(this,new this.LogItem(e,r.LogType.HIDDEN_SINGLE_ROW,o,n)),x.call(this,n,e,o),!0}}return!1},ir=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var f=0,n=0,l=0;l<r.ROW_COL_SEC_SIZE;l++){var a=D(l,t),u=c(i,a);v[u]==0&&(f++,n=a)}if(f==1){var o=i+1;return(h||I)&&b.call(this,new this.LogItem(e,r.LogType.HIDDEN_SINGLE_COLUMN,o,n)),x.call(this,n,e,o),!0}}return!1},fr=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=W(t),f=0;f<r.ROW_COL_SEC_SIZE;f++){for(var n=0,l=0,a=0;a<r.GRID_SIZE;a++)for(var u=0;u<r.GRID_SIZE;u++){var o=i+a+r.ROW_COL_SEC_SIZE*u,O=c(f,o);v[O]==0&&(n++,l=o)}if(n==1){var S=f+1;return(h||I)&&b.call(this,new this.LogItem(e,r.LogType.HIDDEN_SINGLE_SECTION,S,l)),x.call(this,l,e,S),!0}}return!1},tr=function(e,t){for(var i=0,f=Kr.call(this),n=0;n<r.ROW_COL_SEC_SIZE;n++){var l=H[n],a=c(l,f);if(v[a]==0){if(i==t){var u=l+1;return(h||I)&&b.call(this,new this.LogItem(e,r.LogType.GUESS,u,f)),x.call(this,f,e,u),!0}i++}}return!1},j=function(){for(var e=0;e<r.BOARD_SIZE;e++)if(R[e]==0){for(var t=0,i=0;i<r.ROW_COL_SEC_SIZE;i++){var f=c(i,e);v[f]==0&&t++}if(t==0)return!0}return!1},K=function(e){(h||I)&&b.call(this,new this.LogItem(e,r.LogType.ROLLBACK));for(var t=0;t<r.BOARD_SIZE;t++)k[t]==e&&(k[t]=0,R[t]=0);for(var t=0;t<r.POSSIBILITY_SIZE;t++)v[t]==e&&(v[t]=0);for(;A.length>0&&A[A.length-1]==e;)A.pop()},zr=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var f=W(i),n=!0,l=-1,a=0;a<r.GRID_SIZE;a++)for(var u=0;u<r.GRID_SIZE;u++){var o=f+u+r.ROW_COL_SEC_SIZE*a,O=c(t,o);v[O]==0&&(l==-1||l==a?l=a:n=!1)}if(n&&l!=-1){for(var S=!1,Z=E(f)+l,G=g(Z),u=0;u<r.ROW_COL_SEC_SIZE;u++){var P=G+u,N=L(P),O=c(t,P);i!=N&&v[O]==0&&(v[O]=e,S=!0)}if(S)return(h||I)&&b.call(this,new this.LogItem(e,r.LogType.POINTING_PAIR_TRIPLE_ROW,t+1,G)),!0}}return!1},Br=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var f=g(i),n=!0,l=-1,a=0;a<r.GRID_SIZE;a++)for(var u=0;u<r.GRID_SIZE;u++){var o=a*r.GRID_SIZE+u,O=D(i,o),S=c(t,O);v[S]==0&&(l==-1||l==a?l=a:n=!1)}if(n&&l!=-1){for(var Z=!1,o=r.GRID_SIZE*l,G=_(D(i,o)),P=E(G),N=s(G),a=0;a<r.GRID_SIZE;a++)for(var u=0;u<r.GRID_SIZE;u++){var w=P+a,V=N+u,O=D(w,V),S=c(t,O);i!=w&&v[S]==0&&(v[S]=e,Z=!0)}if(Z)return(h||I)&&b.call(this,new this.LogItem(e,r.LogType.ROW_BOX,t+1,f)),!0}}return!1},kr=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var f=g(i),n=!0,l=-1,a=0;a<r.GRID_SIZE;a++)for(var u=0;u<r.GRID_SIZE;u++){var o=a*r.GRID_SIZE+u,O=D(i,o),S=c(t,O);v[S]==0&&(l==-1||l==a?l=a:n=!1)}if(n&&l!=-1){for(var Z=!1,o=r.GRID_SIZE*l,G=_(D(i,o)),P=E(G),N=s(G),a=0;a<r.GRID_SIZE;a++)for(var u=0;u<r.GRID_SIZE;u++){var w=P+a,V=N+u,O=D(w,V),S=c(t,O);i!=w&&v[S]==0&&(v[S]=e,Z=!0)}if(Z)return(h||I)&&b.call(this,new this.LogItem(e,r.LogType.ROW_BOX,t+1,f)),!0}}return!1},Ur=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var f=W(i),n=!0,l=-1,a=0;a<r.GRID_SIZE;a++)for(var u=0;u<r.GRID_SIZE;u++){var o=f+a+r.ROW_COL_SEC_SIZE*u,O=c(t,o);v[O]==0&&(l==-1||l==a?l=a:n=!1)}if(n&&l!=-1){for(var S=!1,Z=s(f)+l,G=y(Z),a=0;a<r.ROW_COL_SEC_SIZE;a++){var P=G+r.ROW_COL_SEC_SIZE*a,N=L(P),O=c(t,P);i!=N&&v[O]==0&&(v[O]=e,S=!0)}if(S)return(h||I)&&b.call(this,new this.LogItem(e,r.LogType.POINTING_PAIR_TRIPLE_COLUMN,t+1,G)),!0}}return!1},wr=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var f=-1,n=-1,l=0,a=0;a<r.ROW_COL_SEC_SIZE;a++){var u=D(t,a),o=c(i,u);v[o]==0&&(f==-1||f==a?f=a:(n==-1||n==a)&&(n=a),l++)}if(l==2)for(var O=i+1;O<r.ROW_COL_SEC_SIZE;O++){for(var S=-1,Z=-1,G=0,a=0;a<r.ROW_COL_SEC_SIZE;a++){var u=D(t,a),o=c(O,u);v[o]==0&&(S==-1||S==a?S=a:(Z==-1||Z==a)&&(Z=a),G++)}if(G==2&&f==S&&n==Z){for(var P=!1,N=0;N<r.ROW_COL_SEC_SIZE;N++)if(N!=i&&N!=O){var w=D(t,f),V=D(t,n),Y=c(N,w),Q=c(N,V);v[Y]==0&&(v[Y]=e,P=!0),v[Q]==0&&(v[Q]=e,P=!0)}if(P)return(h||I)&&b.call(this,new this.LogItem(e,r.LogType.HIDDEN_PAIR_ROW,i+1,D(t,f))),!0}}}return!1},qr=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var f=-1,n=-1,l=0,a=0;a<r.ROW_COL_SEC_SIZE;a++){var u=D(a,t),o=c(i,u);v[o]==0&&(f==-1||f==a?f=a:(n==-1||n==a)&&(n=a),l++)}if(l==2)for(var O=i+1;O<r.ROW_COL_SEC_SIZE;O++){for(var S=-1,Z=-1,G=0,a=0;a<r.ROW_COL_SEC_SIZE;a++){var u=D(a,t),o=c(O,u);v[o]==0&&(S==-1||S==a?S=a:(Z==-1||Z==a)&&(Z=a),G++)}if(G==2&&f==S&&n==Z){for(var P=!1,N=0;N<r.ROW_COL_SEC_SIZE;N++)if(N!=i&&N!=O){var w=D(f,t),V=D(n,t),Y=c(N,w),Q=c(N,V);v[Y]==0&&(v[Y]=e,P=!0),v[Q]==0&&(v[Q]=e,P=!0)}if(P)return(h||I)&&b.call(this,new this.LogItem(e,r.LogType.HIDDEN_PAIR_COLUMN,i+1,D(f,t))),!0}}}return!1},dr=function(e){for(var t=0;t<r.ROW_COL_SEC_SIZE;t++)for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){for(var f=-1,n=-1,l=0,a=0;a<r.ROW_COL_SEC_SIZE;a++){var u=p(t,a),o=c(i,u);v[o]==0&&(f==-1||f==a?f=a:(n==-1||n==a)&&(n=a),l++)}if(l==2)for(var O=i+1;O<r.ROW_COL_SEC_SIZE;O++){for(var S=-1,Z=-1,G=0,a=0;a<r.ROW_COL_SEC_SIZE;a++){var u=p(t,a),o=c(O,u);v[o]==0&&(S==-1||S==a?S=a:(Z==-1||Z==a)&&(Z=a),G++)}if(G==2&&f==S&&n==Z){for(var P=!1,N=0;N<r.ROW_COL_SEC_SIZE;N++)if(N!=i&&N!=O){var w=p(t,f),V=p(t,n),Y=c(N,w),Q=c(N,V);v[Y]==0&&(v[Y]=e,P=!0),v[Q]==0&&(v[Q]=e,P=!0)}if(P)return(h||I)&&b.call(this,new this.LogItem(e,r.LogType.HIDDEN_PAIR_SECTION,i+1,p(t,f))),!0}}}return!1},x=function(e,t,i){if(R[e]!=0)throw"Marking position that already has been marked.";if(k[e]!=0)throw"Marking position that was marked another round.";var f=i-1;R[e]=i;var n=c(f,e);if(v[n]!=0)throw"Marking impossible position.";k[e]=t;for(var l=E(e)*r.ROW_COL_SEC_SIZE,a=0;a<r.ROW_COL_SEC_SIZE;a++){var u=l+a,o=c(f,u);v[o]==0&&(v[o]=t)}for(var O=s(e),S=0;S<r.ROW_COL_SEC_SIZE;S++){var Z=O+r.ROW_COL_SEC_SIZE*S,o=c(f,Z);v[o]==0&&(v[o]=t)}for(var G=_(e),S=0;S<r.GRID_SIZE;S++)for(var P=0;P<r.GRID_SIZE;P++){var N=G+S+r.ROW_COL_SEC_SIZE*P,o=c(f,N);v[o]==0&&(v[o]=t)}for(var f=0;f<r.ROW_COL_SEC_SIZE;f++){var o=c(f,e);v[o]==0&&(v[o]=t)}},Kr=function(){for(var e=10,t=0,i=0;i<r.BOARD_SIZE;i++){var f=z[i];if(R[f]==0){for(var n=0,l=0;l<r.ROW_COL_SEC_SIZE;l++){var a=c(l,f);v[a]==0&&n++}n<e&&(e=n,t=f)}}return t},Vr=function(e){for(var t=0;t<r.BOARD_SIZE;t++){var i=Or(t);if(i==2){for(var f=E(t),n=s(t),l=_(t),a=t;a<r.BOARD_SIZE;a++)if(t!=a){var u=Or(a);if(u==2&&Xr(t,a)){if(f==E(a)){for(var o=!1,O=0;O<r.ROW_COL_SEC_SIZE;O++){var S=D(f,O);S!=t&&S!=a&&ur(t,S,e)&&(o=!0)}if(o)return(h||I)&&b.call(this,new this.LogItem(e,r.LogType.NAKED_PAIR_ROW,0,t)),!0}if(n==s(a)){for(var o=!1,Z=0;Z<r.ROW_COL_SEC_SIZE;Z++){var S=D(Z,n);S!=t&&S!=a&&ur(t,S,e)&&(o=!0)}if(o)return(h||I)&&b.call(this,new this.LogItem(e,r.LogType.NAKED_PAIR_COLUMN,0,t)),!0}if(l==_(a)){for(var o=!1,G=_(t),P=0;P<r.GRID_SIZE;P++)for(var N=0;N<r.GRID_SIZE;N++){var S=G+P+r.ROW_COL_SEC_SIZE*N;S!=t&&S!=a&&ur(t,S,e)&&(o=!0)}if(o)return(h||I)&&b.call(this,new this.LogItem(e,r.LogType.NAKED_PAIR_SECTION,0,t)),!0}}}}}return!1},Or=function(e){for(var t=0,i=0;i<r.ROW_COL_SEC_SIZE;i++){var f=c(i,e);v[f]==0&&t++}return t},Xr=function(e,t){for(var i=0;i<r.ROW_COL_SEC_SIZE;i++){var f=c(i,e),n=c(i,t);if((v[f]==0||v[n]==0)&&(v[f]!=0||v[n]!=0))return!1}return!0},b=function(e){h&&e.print(),I&&(X.push(e),A.push(e))},sr=function(){Cr(z,r.BOARD_SIZE),Cr(H,r.ROW_COL_SEC_SIZE)},hr=function(e){T(lr.call(this,e))},lr=function(e){for(var t="",i=0;i<r.BOARD_SIZE;i++)M==r.PrintStyle.READABLE&&(t+=" "),e[i]==0?t+=".":t+=e[i],i==r.BOARD_SIZE-1?(M==r.PrintStyle.CSV?t+=",":t+=`
`,(M==r.PrintStyle.READABLE||M==r.PrintStyle.COMPACT)&&(t+=`
`)):i%r.ROW_COL_SEC_SIZE==r.ROW_COL_SEC_SIZE-1?((M==r.PrintStyle.READABLE||M==r.PrintStyle.COMPACT)&&(t+=`
`),i%r.SEC_GROUP_SIZE==r.SEC_GROUP_SIZE-1&&M==r.PrintStyle.READABLE&&(t+=`-------|-------|-------
`)):i%r.GRID_SIZE==r.GRID_SIZE-1&&M==r.PrintStyle.READABLE&&(t+=" |");return t},Fr=function(){for(var e=2;e<=rr;e+=2)K.call(this,e)},Yr=function(){for(var e=0;e<r.BOARD_SIZE;e++)C[e]=0;d.call(this)},Rr=function(e){T(_r(e))},_r=function(e){var t="";I||(t+="History was not recorded.",M==r.PrintStyle.CSV?t+=" -- ":t+=`
`);for(var i=0;i<e.length;i++)t+=i+1+". "+e[i].toString(),M==r.PrintStyle.CSV?t+=" -- ":t+=`
`;return M==r.PrintStyle.CSV?t+=",":t+=`
`,t},ur=function(e,t,i){for(var f=!1,n=0;n<r.ROW_COL_SEC_SIZE;n++){var l=c(n,e),a=c(n,t);v[l]==0&&v[a]==0&&(v[a]=i,f=!0)}return f},Cr=function(e,t){for(var i=0;i<t;i++){var f=t-i,n=Math.floor(Math.random()*f)+i,l=e[i];e[i]=e[n],e[n]=l}},Qr=function(){var e=Math.floor(Math.random()*4);switch(e){case 0:return r.Symmetry.ROTATE90;case 1:return r.Symmetry.ROTATE180;case 2:return r.Symmetry.MIRROR;case 3:return r.Symmetry.FLIP}throw"Unexpected random value: "+e},B=function(e,t){for(var i=0,f=0;f<e.length;f++)e[f].getType()==t&&i++;return i};this.LogItem=function(e,t,i,f){var n=e,l=t,a=i,u=f;this.getRound=function(){return n},this.print=function(){U(this.toString())},this.getType=function(){return l},this.getColumn=function(){return u==-1?-1:s(u)},this.getRow=function(){return u==-1?-1:E(u)},this.getPosition=function(){return u},this.getValue=function(){return a},this.getDescription=function(){switch(this.getType()){case r.LogType.GIVEN:return"Mark given";case r.LogType.ROLLBACK:return"Roll back round";case r.LogType.GUESS:return"Mark guess (start round)";case r.LogType.HIDDEN_SINGLE_ROW:return"Mark single possibility for value in row";case r.LogType.HIDDEN_SINGLE_COLUMN:return"Mark single possibility for value in column";case r.LogType.HIDDEN_SINGLE_SECTION:return"Mark single possibility for value in section";case r.LogType.SINGLE:return"Mark only possibility for cell";case r.LogType.NAKED_PAIR_ROW:return"Remove possibilities for naked pair in row";case r.LogType.NAKED_PAIR_COLUMN:return"Remove possibilities for naked pair in column";case r.LogType.NAKED_PAIR_SECTION:return"Remove possibilities for naked pair in section";case r.LogType.POINTING_PAIR_TRIPLE_ROW:return"Remove possibilities for row because all values are in one section";case r.LogType.POINTING_PAIR_TRIPLE_COLUMN:return"Remove possibilities for column because all values are in one section";case r.LogType.ROW_BOX:return"Remove possibilities for section because all values are in one row";case r.LogType.COLUMN_BOX:return"Remove possibilities for section because all values are in one column";case r.LogType.HIDDEN_PAIR_ROW:return"Remove possibilities from hidden pair in row";case r.LogType.HIDDEN_PAIR_COLUMN:return"Remove possibilities from hidden pair in column";case r.LogType.HIDDEN_PAIR_SECTION:return"Remove possibilities from hidden pair in section";default:return"!!! Performed unknown optimization !!!"}},this.toString=function(){var o="Round: "+this.getRound()+" - ";if(o+=this.getDescription(),a>0||u>-1){o+=" (";var O=!1;u>-1&&(O&&(o+=" - "),o+="Row: "+(E(u)+1)+" - Column: "+(s(u)+1),O=!0),a>0&&(O&&(o+=" - "),o+="Value: "+a,O=!0),o+=")"}return o}},this.setPuzzle=function(e){for(var t=0;t<r.BOARD_SIZE;t++)C[t]=e[t];return d.call(this)},this.printPuzzle=function(){return hr.call(this,C)},this.getPuzzleString=function(){return lr.call(this,C)},this.printSolution=function(){return hr.call(this,R)},this.getSolutionString=function(){return lr.call(this,R)},this.solve=function(e){if(!e||e<=1)return d.call(this),sr(),this.solve(2);for(rr=e;F.call(this,e);){if(this.isSolved())return!0;if(j.call(this))return!1}for(var t=e+1,i=e+2,f=0;tr.call(this,t,f);f++)if(j.call(this)||!this.solve(i))K.call(this,i),K.call(this,t);else return!0;return!1},this.countSolutions=function(e,t){if(!e||e<=1){var i=I;this.setRecordHistory(!1);var f=h;this.setLogHistory(!1),d.call(this);var n=this.countSolutions(2,!1);return this.setRecordHistory(i),this.setLogHistory(f),n}else{for(;F.call(this,e);){if(this.isSolved())return K.call(this,e),1;if(j.call(this))return K.call(this,e),0}for(var l=0,a=e+1,u=0;tr.call(this,a,u);u++)if(l+=this.countSolutions(a,t),t&&l>=2)return K.call(this,e),l;return K.call(this,e),l}},this.isSolved=function(){for(var e=0;e<r.BOARD_SIZE;e++)if(R[e]==0)return!1;return!0},this.getSolveHistory=function(){return this.isSolved()?X:"No solve history - Puzzle is not possible to solve."},this.getSolveHistoryString=function(){return this.isSolved()?_r.call(this,X):"No solve history - Puzzle is not possible to solve."},this.printSolveHistory=function(){this.isSolved()?Rr(X):U("No solve history - Puzzle is not possible to solve.")},this.setRecordHistory=function(e){I=e},this.setLogHistory=function(e){h=e},this.setPrintStyle=function(e){M=e},this.generatePuzzle=function(){return this.generatePuzzleSymmetry(r.Symmetry.NONE)},this.generatePuzzleSymmetry=function(e){e==r.Symmetry.RANDOM&&(e=Qr.call(this));var t=I;this.setRecordHistory(!1);var i=h;this.setLogHistory(!1),Yr.call(this),sr.call(this),this.solve(),e==r.Symmetry.NONE&&Fr.call(this);for(var f=0;f<r.BOARD_SIZE;f++)C[f]=R[f];sr.call(this);for(var f=0;f<r.BOARD_SIZE;f++){var n=z[f];if(C[n]>0){var l=-1,a=-1,u=-1;switch(e){case r.Symmetry.ROTATE90:a=D(r.ROW_COL_SEC_SIZE-1-s(n),E(n)),u=D(s(n),r.ROW_COL_SEC_SIZE-1-E(n));case r.Symmetry.ROTATE180:l=D(r.ROW_COL_SEC_SIZE-1-E(n),r.ROW_COL_SEC_SIZE-1-s(n));break;case r.Symmetry.MIRROR:l=D(E(n),r.ROW_COL_SEC_SIZE-1-s(n));break;case r.Symmetry.FLIP:l=D(r.ROW_COL_SEC_SIZE-1-E(n),s(n));break}var o=C[n];C[n]=0;var O=0;l>=0&&(O=C[l],C[l]=0);var S=0;a>=0&&(S=C[a],C[a]=0);var Z=0;u>=0&&(Z=C[u],C[u]=0),d.call(this),this.countSolutions(2,!0)>1&&(C[n]=o,l>=0&&O!=0&&(C[l]=O),a>=0&&S!=0&&(C[a]=S),u>=0&&Z!=0&&(C[u]=Z))}}return d.call(this),this.setRecordHistory(t),this.setLogHistory(i),!0},this.getGivenCount=function(){for(var e=0,t=0;t<r.BOARD_SIZE;t++)C[t]!=0&&e++;return e},this.getSingleCount=function(){return B.call(this,A,r.LogType.SINGLE)},this.getHiddenSingleCount=function(){return B.call(this,A,r.LogType.HIDDEN_SINGLE_ROW)+B.call(this,A,r.LogType.HIDDEN_SINGLE_COLUMN)+B.call(this,A,r.LogType.HIDDEN_SINGLE_SECTION)},this.getNakedPairCount=function(){return B.call(this,A,r.LogType.NAKED_PAIR_ROW)+B.call(this,A,r.LogType.NAKED_PAIR_COLUMN)+B.call(this,A,r.LogType.NAKED_PAIR_SECTION)},this.getHiddenPairCount=function(){return B.call(this,A,r.LogType.HIDDEN_PAIR_ROW)+B.call(this,A,r.LogType.HIDDEN_PAIR_COLUMN)+B.call(this,A,r.LogType.HIDDEN_PAIR_SECTION)},this.getBoxLineReductionCount=function(){return B.call(this,A,r.LogType.ROW_BOX)+B.call(this,A,r.LogType.COLUMN_BOX)},this.getPointingPairTripleCount=function(){return B.call(this,A,r.LogType.POINTING_PAIR_TRIPLE_ROW)+B.call(this,A,r.LogType.POINTING_PAIR_TRIPLE_COLUMN)},this.getGuessCount=function(){return B.call(this,A,r.LogType.GUESS)},this.getBacktrackCount=function(){return B.call(this,X,r.LogType.ROLLBACK)},this.getSolveInstructions=function(){return this.isSolved()?A:"No solve instructions - Puzzle is not possible to solve."},this.getSolveInstructionsString=function(){return this.isSolved()?_r.call(this,A):"No solve instructions - Puzzle is not possible to solve."},this.printSolveInstructions=function(){this.isSolved()?Rr(A):U("No solve instructions - Puzzle is not possible to solve.")},this.getDifficulty=function(){return this.getGuessCount()>0?r.Difficulty.EXPERT:this.getBoxLineReductionCount()>0||this.getPointingPairTripleCount()>0||this.getHiddenPairCount()>0||this.getNakedPairCount()>0?r.Difficulty.INTERMEDIATE:this.getHiddenSingleCount()>0?r.Difficulty.EASY:this.getSingleCount()>0?r.Difficulty.SIMPLE:r.Difficulty.UNKNOWN},this.getDifficultyAsString=function(){var e=this.getDifficulty();switch(e){case r.Difficulty.EXPERT:return"Expert";case r.Difficulty.INTERMEDIATE:return"Intermediate";case r.Difficulty.EASY:return"Easy";case r.Difficulty.SIMPLE:return"Simple";default:return"Unknown"}}};return r.PrintStyle={ONE_LINE:0,COMPACT:1,READABLE:2,CSV:3},r.Difficulty={UNKNOWN:0,SIMPLE:1,EASY:2,INTERMEDIATE:3,EXPERT:4},r.Symmetry={NONE:0,ROTATE90:1,ROTATE180:2,MIRROR:3,FLIP:4,RANDOM:5},r.LogType={GIVEN:0,SINGLE:1,HIDDEN_SINGLE_ROW:2,HIDDEN_SINGLE_COLUMN:3,HIDDEN_SINGLE_SECTION:4,GUESS:5,ROLLBACK:6,NAKED_PAIR_ROW:7,NAKED_PAIR_COLUMN:8,NAKED_PAIR_SECTION:9,POINTING_PAIR_TRIPLE_ROW:10,POINTING_PAIR_TRIPLE_COLUMN:11,ROW_BOX:12,COLUMN_BOX:13,HIDDEN_PAIR_ROW:14,HIDDEN_PAIR_COLUMN:15,HIDDEN_PAIR_SECTION:16},r.GRID_SIZE=3,r.ROW_COL_SEC_SIZE=r.GRID_SIZE*r.GRID_SIZE,r.SEC_GROUP_SIZE=r.ROW_COL_SEC_SIZE*r.GRID_SIZE,r.BOARD_SIZE=r.ROW_COL_SEC_SIZE*r.ROW_COL_SEC_SIZE,r.POSSIBILITY_SIZE=r.BOARD_SIZE*r.ROW_COL_SEC_SIZE,Sr=r,Sr}var Le=Ce();const ge=Re(Le),Hr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function De(r){if(r.length!==81)throw new Error("Input array must have exactly 81 numbers");if(!r.every(_=>_>=0&&_<=9))return console.error("All numbers must be between 0 and 9",r),"";let s="";for(let _=0;_<r.length;_+=3){const L=_<r.length?r[_]:0,g=_+1<r.length?r[_+1]:0,y=_+2<r.length?r[_+2]:0,c=(L*100+g*10+y).toString(2).padStart(10,"0");s+=c}let E="";for(let _=0;_<s.length;_+=6){const L=s.substring(_,_+6).padEnd(6,"0"),g=parseInt(L,2);E+=Hr[g]}return E}function Ge(r){let s="";for(const _ of r){const L=Hr.indexOf(_);if(L===-1)return console.error(`Invalid base64 URL character: ${_}`),null;s+=L.toString(2).padStart(6,"0")}const E=[];for(let _=0;_<s.length&&!(_+10>s.length);_+=10){const L=s.substring(_,_+10),g=parseInt(L,2),y=Math.floor(g/100),W=Math.floor(g%100/10),c=g%10;if(E.push(y,W,c),E.length>=81)break}return E.slice(0,81)}const ye=["Unknown","Easy","Medium","Hard","Diabolic"],q={Unknown:[],Easy:[],Medium:[],Hard:[],Diabolic:[]};class Ze{constructor(){Lr(this,"qq",new ge);this.qq.setPrintStyle(0),this.qq.setRecordHistory(!0)}generateBoardString(s){if(q[s].length>0)return q[s].pop();let E=0;const _=q[s];for(;_.length<10;){const[L,g]=this.generatePuzzle();if(q[L].length<100&&q[L].push(g),E+=1,E>300)break}return _.pop()}generatePuzzle(){this.qq.generatePuzzleSymmetry(5);const s=this.qq.getPuzzleString();this.qq.solve();const E=this.qq.getDifficulty();return[ye[E],this.standardizePuzzle(s.trim())]}standardizePuzzle(s){const E=".123456789",_=[];for(const L of s){let g=E.indexOf(L);g===-1&&(g=0),_.push(g)}return De(_)}prepare(){for(let s=0;s<4;s++){const[E,_]=this.generatePuzzle();q[E].length<100&&q[E].push(_)}}}const br=new Ze;br.prepare();setInterval(()=>{(q.Easy.length<10||q.Medium.length<10||q.Hard.length<10||q.Diabolic.length<10)&&br.prepare()},1e3);export{We as a,De as b,Ge as d,Pe as e,br as g,Ae as i,pe as t};
